---
http_interactions:
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/organizations/8/hosts?per_page=1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:40 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 500483f7-8067-4557-b938-7d7a026d55ff
      X-Runtime:
      - '0.133179'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=65d79cdb9f637832dc62932383241675; path=/; secure; HttpOnly
      Etag:
      - '"f1bf6dcc61c898dc2abeaacae2d953fb-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '2293'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 1,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13 11:01:00 UTC","updated_at":"2016-12-19 16:39:54 UTC","last_compile":"2016-12-19 16:39:50 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13 11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 11:01:01 UTC"},"content_host_id":5}]
        }
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:24 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/organizations/8/hosts?page=1&per_page=20
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:41 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 76c4a698-a14d-4007-86dd-971b7edf2e0a
      X-Runtime:
      - '0.200137'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=fb35e3467d83f5bc81f52519999779d0; path=/; secure; HttpOnly
      Etag:
      - '"4d4e198a572ca690d4308092fac86672-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '4426'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 20,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13 11:01:00 UTC","updated_at":"2016-12-19 16:39:54 UTC","last_compile":"2016-12-19 16:39:50 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13 11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 11:01:01 UTC"},"content_host_id":5},{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-13 10:58:55 UTC","updated_at":"2016-12-19 16:39:49 UTC","last_compile":"2016-12-19 16:39:45 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":4,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","last_checkin":"2016-12-13 10:58:55 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 10:58:56 UTC"},"content_host_id":4}]
        }
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:24 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:41 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e48dbc2c-aeba-4ba0-91ef-20f47c1a99e8
      X-Runtime:
      - '0.115835'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=32004863e9789c0edbd9d5a94fe6c328; path=/; secure; HttpOnly
      Etag:
      - '"e887f85e97779657bd7cf336d1f5761c-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3019'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":4,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":5,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:26
        UTC","updated_at":"2016-12-13 10:58:26 UTC","prior":null,"successor":null,"counts":{"content_hosts":2,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":3,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:05 UTC","updated_at":"2016-12-13 10:59:05 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:25 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/content_views?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:41 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0b5b68fb-6933-4201-a105-dc847528ebce
      X-Runtime:
      - '0.060650'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=634baee287c73361cb0d85d1d7cdf7bd; path=/; secure; HttpOnly
      Etag:
      - '"24d3d45f9a0cda80146879509dfd209e-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1804'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":2,"subtotal":2,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"composite":false,"repository_ids":[],"component_ids":[],"default":false,"next_version":2,"id":3,"name":"Test
        Puppet Modules","label":"Test_Puppet_Modules","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:58
        UTC","updated_at":"2016-12-13 10:58:59 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":3,"version":"1.0","published":"2016-12-13
        10:58:59 UTC","environment_ids":[2]}],"components":[],"activation_keys":[],"last_published":"2016-12-13
        10:58:59 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}},{"composite":false,"repository_ids":[],"component_ids":[],"default":true,"next_version":1,"id":2,"name":"Default
        Organization View","label":"e1fa1d00-5399-4ce9-9219-1b9433e76baa","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:26
        UTC","updated_at":"2016-12-13 10:58:26 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":2,"version":"1.0","published":"2016-12-13
        10:58:26 UTC","environment_ids":[2]}],"components":[],"activation_keys":[{"id":2,"name":"testakey"},{"id":3,"name":"testakeyitemized"}],"last_published":"2016-12-13
        10:58:26 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:25 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:41 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 8676a6f4-93b0-4b01-a039-c24b18ec0e9a
      X-Runtime:
      - '0.642272'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=b9819625460dc76ffec8023a957ad34b; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"22cb49e5f87ab20efe4d6d281842906f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3820'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-13
        10:58:55 UTC","updated_at":"2016-12-19 16:39:49 UTC","last_compile":"2016-12-19
        16:39:45 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":4,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","last_checkin":"2016-12-13
        10:58:55 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        10:58:56 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7a08106d8","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:00:53.505+0000","updated":"2016-12-13T11:00:53.505+0000"}]},"content_host_id":4,"parameters":[],"interfaces":[{"id":4,"name":"testvm","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"virt":null,"system::certificate_version":"3.2","network::hostname":"testvm","cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"4","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testvm","cpu::cpu(s)":"1","network":null,"distribution":null,"system":null,"uname":null,"cpu":null,"memory":null,"_timestamp":"2016-12-19T16:39:45+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:25 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/rhsm/consumers/05f67758-243c-440b-9349-776aafb933e1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.90
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a6830bce-7a9d-47d7-8409-be1e0f9acfd8
      X-Runtime:
      - '0.112821'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=f896d160b7fe59894aef0c8ef63e702f; path=/; secure; HttpOnly
      Etag:
      - '"8700ca189f651594fa0225fc17555e4e-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3253'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"id":"4028f99158f378890158f7d5d6bd03f1","uuid":"05f67758-243c-440b-9349-776aafb933e1","name":"testvm","username":"foreman_admin","entitlementStatus":"valid","serviceLevel":"","releaseVer":{"releaseVer":null},"idCert":{"key":"-----BEGIN
        RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAgqcqgrlGRsDvLQ9wL5URZjQDMYmDNBssTIiSWcy9FmuACZdN\nNEWdao7cE6aV9BY07G5qKKIqTDb8br6mCngwY+JxUK/qGWoefStgtlzUAfnQRsuj\nIL/1qo/+TjE0n0KD6SOUO4MF0ytHq3xpe1wNryGbrT0+UJKSITwysHa3G6V12Lbu\n6Nd/ZSlMWPKnyGyj6ubNS97bjsWQ9FA2YLWNnr04HfjBJvCJTX7N+hg8bwqG/vfs\nW0+S5ZCMqGCEKPmwXtkSx/z9uHATi8D5oVIZtHExwYyiA1HHpIXW42H+DHM0k2HU\nlTdEWmYeaH/aRhgVQYa1XvvvRfmtH+/LO9ovfQIDAQABAoIBAE6bUOJRokyTa9NK\nhI68OzmodXtqZrwE1UQ+rv7ERcelaeVbWKHoeGtSBGr2QSYX7kOJsuk7mAM+2eWv\nYqrN4R9XcCHBlTExPaLFZGyTsSJ3MK5HeqALnjy+YZyd0jE3jbHJLDgZ/nksgvRT\n6ArGOZ1ytP0n6cQES1MfqsesxUImEFo9skCsDHVFFlNwHcArs5zhaeQPTXyuEUGG\nxPs2a0aBhel/rPOJwMB6IGtfIlrXlottt5C/ONuKWNeQ5OkKeESN+HFUdtUutpPF\nleRkOijCpllfjftMuCS/b3y4/WWQKIJLWKAQZLHZTBhIZxs3p80WpFoTID/UKFPz\nzGVDaYECgYEAvt82GNwXTeBnRFs5vpSNAoE7Gs7+dG9pRdrDkbpXC4BQcBlPsAOL\nwq7DlsXEOE6ygoqtDy7q8b6UDzMQaFQC52nlsKC6EAq6fXJ6V9XneDo/g7+nW58f\nhSG9pKzLDHmNuLs3CJRX/wd4ro98HcXlkd6vJI+Z3R8jTMu9ix0labECgYEArzvK\no87tUnP79chdKfhajFw5ec/Al6kieK4PIGJozV/F/7EAIPI2+crmlHCy0leEghPx\nF4nDbD8Nf3wHJIhD8lINSDa71L/kLZ4z4kChtbBI0yhOU/6BhiqXIxxRWybMg1jI\n74jHqLkKt/GASvL3lJzHRehh9wUPiQ/u4cAzyY0CgYEAnDeHyRTpJd3R5wpa2nYu\naqxmOWzMqXM9z+RaR/0gnNMqAnVU2RQt4Oq0PcQi8orGYz0ootKdi7mU6FO8zAZm\nUgxD5ynE3rhJJb76DsWNKsNRlHzZdo1neMjCs/KQROd/bIAdbLIsyxfMV+IrjRqY\n56g/5EZ7gZSoiYP+38q9AiECgYBrZXPObXYaAKe9fS1MGcA1Ihi/xUo+KRTNbbAr\nouSkajxJd0ui5ZA4C9jBxUhzjdvSdTJfwLka0JIPPg6Kn1E1ZIBrb9AyleDc7IbT\n9dSmLAKWF6/Z3rO3bMbwZ9ycxuy022dbFzN2/uHI1qRQSxTd6jBfcgsIf/uDf1Zi\n2Y9jyQKBgQCzSJwCVAKr0HZtVCOOuX/fagTyuP8ARCOrULqj28po/2Xx2p9s3PTC\ny5jFu0b3SUM8UJ041mA3Z6v4XkLeJGNM0w2GHq4OycqMh1G+k6R8ClKZjutObQFP\nGGY5iwzpSV6tMRFUWTr7ATW2wrc0vQ24FMuLV8UG7cx0Wrj+N5yOYA==\n-----END
        RSA PRIVATE KEY-----\n","cert":"-----BEGIN CERTIFICATE-----\nMIIEWjCCA0KgAwIBAgIICgsqTJ3QT44wDQYJKoZIhvcNAQEFBQAwgYAxCzAJBgNV\nBAYTAlVTMRcwFQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEQMA4GA1UEBxMHUmFsZWln\naDEQMA4GA1UEChMHS2F0ZWxsbzEUMBIGA1UECxMLU29tZU9yZ1VuaXQxHjAcBgNV\nBAMTFXNhdC1yaGVsNy5leGFtcGxlLmNvbTAeFw0xNjEyMTMxMDU4NTZaFw0zMjEy\nMTMxMDU4NTZaMC8xLTArBgNVBAMTJDA1ZjY3NzU4LTI0M2MtNDQwYi05MzQ5LTc3\nNmFhZmI5MzNlMTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIKnKoK5\nRkbA7y0PcC+VEWY0AzGJgzQbLEyIklnMvRZrgAmXTTRFnWqO3BOmlfQWNOxuaiii\nKkw2/G6+pgp4MGPicVCv6hlqHn0rYLZc1AH50EbLoyC/9aqP/k4xNJ9Cg+kjlDuD\nBdMrR6t8aXtcDa8hm609PlCSkiE8MrB2txulddi27ujXf2UpTFjyp8hso+rmzUve\n247FkPRQNmC1jZ69OB34wSbwiU1+zfoYPG8Khv737FtPkuWQjKhghCj5sF7ZEsf8\n/bhwE4vA+aFSGbRxMcGMogNRx6SF1uNh/gxzNJNh1JU3RFpmHmh/2kYYFUGGtV77\n70X5rR/vyzvaL30CAwEAAaOCASYwggEiMBEGCWCGSAGG+EIBAQQEAwIFoDALBgNV\nHQ8EBAMCBLAwgbUGA1UdIwSBrTCBqoAUmwQkEBVL8Hq7Vg65UwIAzbw8sAqhgYak\ngYMwgYAxCzAJBgNVBAYTAlVTMRcwFQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEQMA4G\nA1UEBxMHUmFsZWlnaDEQMA4GA1UEChMHS2F0ZWxsbzEUMBIGA1UECxMLU29tZU9y\nZ1VuaXQxHjAcBgNVBAMTFXNhdC1yaGVsNy5leGFtcGxlLmNvbYIJAIfmEqSmk/wi\nMB0GA1UdDgQWBBRknqXtnXZdbaVsItbr1ztHYv0vsTATBgNVHSUEDDAKBggrBgEF\nBQcDAjAUBgNVHREEDTALhglDTj10ZXN0dm0wDQYJKoZIhvcNAQEFBQADggEBAFsE\nT6E/yfJB3EYo+sa4gPUyNHeYxQvlo4HI51XbtWR8a+rexPH08M2Y5Y5UjgQHij1b\nEUBhTSyC2x33FDySauB497cZyT6cqJMDzoufwZruEfxmv4qXzbwpDHzotQR45MrD\nzAU6zzPpx+l7rwAoRaX+qjqU/Uih9Mgcy4MrHxIEDbPNihLW55GdYZbW9qurntrC\nordhPDBp4EdFDAXzNiq4KVsmNDOKwNvphVelM1h+UniAJFIKJS9/zJVZmO4hq3pJ\ngiUapQJ3HZjBxSBSzQQbPy/6OqJcbIgCZDofaUjl6N/i4XbbP8gjgLhWmaaO9a2E\nurv4LQ5RwoZF637fpgU=\n-----END
        CERTIFICATE-----\n","id":"4028f99158f378890158f7d5d92903f4","serial":{"id":723718673676652430,"revoked":false,"collected":false,"expiration":"2032-12-13T10:58:56.332+0000","serial":723718673676652430,"created":"2016-12-13T10:58:56.332+0000","updated":"2016-12-13T10:58:56.332+0000"},"created":"2016-12-13T10:58:56.937+0000","updated":"2016-12-13T10:58:56.937+0000"},"type":{"id":"1000","label":"system","manifest":false},"owner":{"id":"4028f99158f378890158f7d5665f03ed","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"environment":{"owner":{"id":"4028f99158f378890158f7d5665f03ed","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"name":"Library","description":null,"id":"2","environmentContent":[],"created":"2016-12-13T10:58:27.675+0000","updated":"2016-12-13T10:58:27.675+0000"},"entitlementCount":1,"facts":{"virt.uuid":"Test
        Corporation/testvm","network.hostname":"testvm","distribution.version":"7Server","distribution.name":"RHEL","system.certificate_version":"3.2","_timestamp":"2016-12-19T16:39:44+00:00","uname.machine":"x86_64","memory.memtotal":"4GB","cpu.cpu_socket(s)":"4","cpu.cpu(s)":"1","cpu.core(s)_per_socket":"1","virt.is_guest":"true"},"lastCheckin":null,"installedProducts":[{"id":"4028f99158f378890158f7d7a08106d8","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:00:53.505+0000","updated":"2016-12-13T11:00:53.505+0000"}],"canActivate":false,"guestIds":[],"capabilities":[],"hypervisorId":null,"contentTags":[],"autoheal":true,"dev":false,"href":"/consumers/05f67758-243c-440b-9349-776aafb933e1","created":"2016-12-13T10:58:56.317+0000","updated":"2016-12-19T16:39:48.730+0000"}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:25 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/rhsm/consumers/05f67758-243c-440b-9349-776aafb933e1
    body:
      encoding: UTF-8
      string: '{"facts":{"virt.uuid":"Test Corporation/testvm","network.hostname":"testvm","distribution.version":"7Server","distribution.name":"RHEL","system.certificate_version":"3.2","_timestamp":"2016-12-19T16:39:44+00:00","uname.machine":"x86_64","memory.memtotal":"4GB","cpu.cpu_socket(s)":"4","cpu.cpu(s)":"1","cpu.core(s)_per_socket":"1","virt.is_guest":true}}'
    headers:
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.90
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 3dce710c-119d-476a-b1ff-bdbfbdafda49
      X-Runtime:
      - '0.174972'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=b23a03315ca5f2a49c1bbc09076229f3; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Status:
      - 500 Internal Server Error
      Connection:
      - close
      Transfer-Encoding:
      - chunked
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: UTF-8
      string: '{"displayMessage":"Required lock is already taken by other running
        tasks.\nPlease inspect their state, fix their errors and resume them.\n\nRequired
        lock: update\nConflicts with tasks:\n- https://sat-rhel7.example.com/foreman_tasks/tasks/54bd079f-5409-426d-8096-3adf30a2e7f7","errors":["Required
        lock is already taken by other running tasks.\nPlease inspect their state,
        fix their errors and resume them.\n\nRequired lock: update\nConflicts with
        tasks:\n- https://sat-rhel7.example.com/foreman_tasks/tasks/54bd079f-5409-426d-8096-3adf30a2e7f7"]}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:26 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 82bddc32-a2dc-425a-840e-7f62626a2b6f
      X-Runtime:
      - '0.324065'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=152de6fc76fd2e7ce196e832910294c1; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:26 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d6b4f2ab-1896-4a25-bced-00b87619aae2
      X-Runtime:
      - '1.093655'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=6bbefb08ae617f9f7a4d36d3b7cf037c; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:27 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:43 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 14fbe943-d05e-424c-8349-1fb4948310a0
      X-Runtime:
      - '0.578924'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=c82f682c7ddd8b684c5dd4b46f048b13; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:28 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:44 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9c6dade2-6018-4a5f-a469-430d6bbf6968
      X-Runtime:
      - '1.030453'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=5e46ed74c92f4832f8ba2ed95cbd1b7e; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:29 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:45 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3a827449-628b-4dae-87ba-22a2b7a42db9
      X-Runtime:
      - '0.711425'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=668211d933216a2ef55c0c0863b5b16c; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"df7929b8a6ba0368435441b0e7a2b605-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3850'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13
        11:01:00 UTC","updated_at":"2016-12-19 16:39:54 UTC","last_compile":"2016-12-19
        16:39:50 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13
        11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        11:01:01 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7ccd506f2","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:01:04.853+0000","updated":"2016-12-13T11:01:04.853+0000"}]},"content_host_id":5,"parameters":[],"interfaces":[{"id":5,"name":"testphysical","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"8","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testphysical","system::certificate_version":"3.2","network::hostname":"testphysical","cpu::cpu(s)":"1","_timestamp":"2016-12-19T16:39:50+00:00","virt":null,"network":null,"distribution":null,"system":null,"uname":null,"cpu":null,"memory":null},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:29 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/rhsm/consumers/a39750b1-252f-41d2-8f8d-646ecd711e02
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:46 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.90
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b9cedd47-39ec-4cb1-bcb3-87829c9b453f
      X-Runtime:
      - '0.098540'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=fad85721a9a1c9738a4afdf1a6f6630e; path=/; secure; HttpOnly
      Etag:
      - '"956bb81875ec6fea530b3b5b1057e538-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3274'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"id":"4028f99158f378890158f7d7be2906e8","uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","name":"testphysical","username":"foreman_admin","entitlementStatus":"valid","serviceLevel":"","releaseVer":{"releaseVer":null},"idCert":{"key":"-----BEGIN
        RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAmQIDIwXhNkK4WuKus1uYMsFaUiprSKazFm3RHN6545ZfXbke\n74p1Q/BrQLsIlhI22fCTRb7JYVvHOO0GmHo7wsemH5syaMuZN76oTWDeUAtRH3tp\n3FnkQ9DwIjBI2JAbDojxabj/EKlPRTzp7XvqCSKEfZUWOB1hz9Kludt963l4iZjd\nXmdIAmzkJ/NRDMekY3wlHCvNpUF7OUDrVTtw/E48LyISn08zAs+qCWDN+JHbDYL6\ntF9C/jCxZRWvOtzWDHDwgyYNyHJ067dI8qTITOF+nlFeqZkU6L5Sud+//bkeNuTt\nTX/iEw5CiYbuI4QpUe5UJ09adDf/m09eeKyqNwIDAQABAoIBAQCT8j8oOUI3njH2\nJ2O3J6S1xwHXmw6bdByMXmkpWi8x4a+axyojgqS6qZh7QZ4excPl3dn5QW4lRoIP\nCBktjFuGjleSDhWjAOLI5QCFuVmc2iR5pXKJzx2JeVkIJdn6FPUki8Oqb2eqK5vr\nneevava0GH01lNekMLzoH42Bdbt+2DmfWZYDDEVJFUvONWP+lFgfP6QDoM9nj7rG\nN+Mazk0TsalhyuLfAvhvcUzRAuLxtd/VvqhweeaA0V27uQfpF0TRzfZHavOpf1w+\nHYV7G4x7qlImF7Vh3NnmmNk+bYsTVleTum8TC74V8AY2O64eLPMc5vYsDWUA+lN2\nGpNu8EdRAoGBAMp12IrXX87R1CQ6qvU+CHcFUKr7tU58wAz8J0lRwQAbOKE6Cb8c\nREmfn3tnGri8SAimAcEOLgc+gkgynwWViQbMN2N6RLMIB0ldqirebNGL7PGCsBnY\ng5hzi601tdb80PkSzTIW8mCc9iSMJrtHGDCK8UkeBIlGhTnK3ICM9w8PAoGBAMF4\nVYgzvi98WWbOYp7oyDk+GDO0Eia3faTZbDfCW86wKso0loQFx75fq6uvgWJAoLyU\nIoTKG+xiJcsz+rrxoYc3Y/0u0UFlVibmKjjZMEDlV8MZPSwJxA5nJwEgWjyTdDn+\nitz78Imed8N45vAOEBviTzy43GmQPZZr2DtssLJZAoGAfLaPByeYWtwiI5cIDD2E\nFVzuzgRzML/jxZvlz2JO0vPxtE7+Bf0xi3CKWweuDDHe5YTs+7DyZX/53ONh1ZzB\nZbCSRfLhMq81XdoWooWU3pelAzgPpjwbA+PZHH9DXgUp7OPKBprf/udxMB4tFZu7\nqNtNuk6FWNJZ6rmtjnpHDb0CgYBxFQbZX3UQiFwxDPzz6Rfu7W5z+hKJ8sJLspHg\nXYgP3USFgAtiC4berUjIRwMXDLNmxicO+psrpYp1pWIuFsHVKPkWqWDCGpsqjWms\nZLYhmGudq4jnzqV7zassq15S/dT3eOJtnAzSQ3+5D1fchDvCMJsj4OFkCl0VKN/w\ni+0TsQKBgQCG5MzMrez0TwEyqcbif4dHSrDBfk3nswPdWUBbsmJCil6eC9in8NNK\nRiJUXyeCKU93q6MWAXbZTGaAHSyt10WcXcvMXyp4OgP9ItU1Yw9IwLXkAJT+XjK3\nQr8C0yGYTzG12T/Dp4VL9iI0I7HjterPaKeZplg3aCdAzW+Q2bTXjQ==\n-----END
        RSA PRIVATE KEY-----\n","cert":"-----BEGIN CERTIFICATE-----\nMIIEYDCCA0igAwIBAgIIdMfvPv/cx8swDQYJKoZIhvcNAQEFBQAwgYAxCzAJBgNV\nBAYTAlVTMRcwFQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEQMA4GA1UEBxMHUmFsZWln\naDEQMA4GA1UEChMHS2F0ZWxsbzEUMBIGA1UECxMLU29tZU9yZ1VuaXQxHjAcBgNV\nBAMTFXNhdC1yaGVsNy5leGFtcGxlLmNvbTAeFw0xNjEyMTMxMTAxMDFaFw0zMjEy\nMTMxMTAxMDFaMC8xLTArBgNVBAMTJGEzOTc1MGIxLTI1MmYtNDFkMi04ZjhkLTY0\nNmVjZDcxMWUwMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJkCAyMF\n4TZCuFrirrNbmDLBWlIqa0imsxZt0RzeueOWX125Hu+KdUPwa0C7CJYSNtnwk0W+\nyWFbxzjtBph6O8LHph+bMmjLmTe+qE1g3lALUR97adxZ5EPQ8CIwSNiQGw6I8Wm4\n/xCpT0U86e176gkihH2VFjgdYc/Spbnbfet5eImY3V5nSAJs5CfzUQzHpGN8JRwr\nzaVBezlA61U7cPxOPC8iEp9PMwLPqglgzfiR2w2C+rRfQv4wsWUVrzrc1gxw8IMm\nDchydOu3SPKkyEzhfp5RXqmZFOi+Urnfv/25Hjbk7U1/4hMOQomG7iOEKVHuVCdP\nWnQ3/5tPXnisqjcCAwEAAaOCASwwggEoMBEGCWCGSAGG+EIBAQQEAwIFoDALBgNV\nHQ8EBAMCBLAwgbUGA1UdIwSBrTCBqoAUmwQkEBVL8Hq7Vg65UwIAzbw8sAqhgYak\ngYMwgYAxCzAJBgNVBAYTAlVTMRcwFQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEQMA4G\nA1UEBxMHUmFsZWlnaDEQMA4GA1UEChMHS2F0ZWxsbzEUMBIGA1UECxMLU29tZU9y\nZ1VuaXQxHjAcBgNVBAMTFXNhdC1yaGVsNy5leGFtcGxlLmNvbYIJAIfmEqSmk/wi\nMB0GA1UdDgQWBBQI5BgvYQ9kDJZafC9B4OQKyTuknTATBgNVHSUEDDAKBggrBgEF\nBQcDAjAaBgNVHREEEzARhg9DTj10ZXN0cGh5c2ljYWwwDQYJKoZIhvcNAQEFBQAD\nggEBAKQGDfedy3DT+NFWDO1eNlfSe5XHUu2VPIGIIcG4AqPz/6q0I+bWiXj35Coq\nIryaH+ZZ8VBBCEXZe0fLdhkJ83GWGZvL83gsA3xfJZLG9VEehC1lsWQO6kHg4jj0\nFTQYAZjzrLkeAgFq/ZC2D6wgbjA56pM9GUuVJSVWTeCI9+u2zBR5VWcDoKfexWbP\nHe29LDRmoi4Pw59P8J1w+sXbkrrPGDUb7Ldk2O6N8QHBye0O4DVJfUarqX1Ik4zB\nIZUbnHuh2VFwdC2DTHNsTAPMjfdRNCYrUUofJ3amTQ7+aBbDhq4aIa+EBopJTwBX\nRmvCw+aQcZJIZI2odbNaeWuzO9s=\n-----END
        CERTIFICATE-----\n","id":"4028f99158f378890158f7d7c00906eb","serial":{"id":8414957482624731083,"revoked":false,"collected":false,"expiration":"2032-12-13T11:01:01.099+0000","serial":8414957482624731083,"created":"2016-12-13T11:01:01.100+0000","updated":"2016-12-13T11:01:01.100+0000"},"created":"2016-12-13T11:01:01.577+0000","updated":"2016-12-13T11:01:01.577+0000"},"type":{"id":"1000","label":"system","manifest":false},"owner":{"id":"4028f99158f378890158f7d5665f03ed","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"environment":{"owner":{"id":"4028f99158f378890158f7d5665f03ed","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"name":"Library","description":null,"id":"2","environmentContent":[],"created":"2016-12-13T10:58:27.675+0000","updated":"2016-12-13T10:58:27.675+0000"},"entitlementCount":1,"facts":{"virt.uuid":"Test
        Corporation/testphysical","network.hostname":"testphysical","distribution.version":"7Server","distribution.name":"RHEL","system.certificate_version":"3.2","_timestamp":"2016-12-19T16:39:50+00:00","uname.machine":"x86_64","memory.memtotal":"4GB","cpu.cpu_socket(s)":"8","cpu.cpu(s)":"1","cpu.core(s)_per_socket":"1","virt.is_guest":"true"},"lastCheckin":null,"installedProducts":[{"id":"4028f99158f378890158f7d7ccd506f2","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:01:04.853+0000","updated":"2016-12-13T11:01:04.853+0000"}],"canActivate":false,"guestIds":[],"capabilities":[],"hypervisorId":null,"contentTags":[],"autoheal":true,"dev":false,"href":"/consumers/a39750b1-252f-41d2-8f8d-646ecd711e02","created":"2016-12-13T11:01:01.097+0000","updated":"2016-12-19T16:43:46.095+0000"}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:30 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/rhsm/consumers/a39750b1-252f-41d2-8f8d-646ecd711e02
    body:
      encoding: UTF-8
      string: '{"facts":{"virt.uuid":"Test Corporation/testphysical","network.hostname":"testphysical","distribution.version":"7Server","distribution.name":"RHEL","system.certificate_version":"3.2","_timestamp":"2016-12-19T16:39:50+00:00","uname.machine":"x86_64","memory.memtotal":"4GB","cpu.cpu_socket(s)":"8","cpu.cpu(s)":"1","cpu.core(s)_per_socket":"1","virt.is_guest":true}}'
    headers:
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:46 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.90
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 44432bea-75ea-4950-b506-ec607efb973b
      X-Runtime:
      - '1.394394'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=f42578004474750d70758b867148d8ce; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a507d5fae91dfb858fa3f652df472381"'
      Status:
      - 200 OK
      Content-Length:
      - '41'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: UTF-8
      string: '{"content":"Facts successfully updated."}'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:31 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:47 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a7b4ecff-27eb-47b9-82d6-ed101fd02591
      X-Runtime:
      - '0.283110'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=66649b89cad261e24cd5719850e52d3f; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:31 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:48 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 69f7a5dd-501b-4a56-843a-872cb90fdca8
      X-Runtime:
      - '1.032248'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=2c9f00c56ba65d4f9394f4d1096af6ba; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:32 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:49 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 8bff46d7-f51d-4033-9938-7a5546bd97ba
      X-Runtime:
      - '0.607334'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=6c43db5d300366ba45016425e81bb528; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:33 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 19 Dec 2016 16:43:49 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.61
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - 9793fd9909c89b81479655ed560c4340
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - fc1a20ae-cbcf-4a6a-a911-6adcd9d9b3ed
      X-Runtime:
      - '1.114543'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=0a038f1b2b6d1cf5e2c6e18d20e6a483; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Mon, 19 Dec 2016 16:43:34 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/status
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 6b588dbb-593e-47a7-97f8-f350f3ee4bda
      X-Runtime:
      - '0.051589'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"8e3341d0a4cc328651f7391aed11fef8"'
      Status:
      - 200 OK
      Content-Length:
      - '66'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=952b4130aa49c2124eb9197f64004f61; path=/; secure; HttpOnly
    body:
      encoding: UTF-8
      string: '{"result":"ok","status":200,"version":"1.11.0.54","api_version":2}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:41 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/v2/plugins
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 49652b5f-8d3e-4246-9810-ed1002ab0a0b
      X-Runtime:
      - '0.050198'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"077fb42a553a8a1a1bbf6262a2cc79ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1338'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=6c44194cdf56e7405b42c75cfcbc9e5e; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJ0b3RhbCI6IDEwLAogICJzdWJ0b3RhbCI6IDEwLAogICJwYWdlIjog
        MSwKICAicGVyX3BhZ2UiOiAyMCwKICAic2VhcmNoIjogbnVsbCwKICAic29y
        dCI6IHsKICAgICJieSI6IG51bGwsCiAgICAib3JkZXIiOiBudWxsCiAgfSwK
        ICAicmVzdWx0cyI6IFt7ImlkIjoiZm9yZW1hbi10YXNrcyIsIm5hbWUiOiJm
        b3JlbWFuLXRhc2tzIiwiYXV0aG9yIjoiSXZhbiBOZcSNYXMiLCJkZXNjcmlw
        dGlvbiI6IlRoZSBnb2FsIG9mIHRoaXMgcGx1Z2luIGlzIHRvIHVuaWZ5IHRo
        ZSB3YXkgb2Ygc2hvd2luZyB0YXNrIHN0YXR1c2VzIGFjcm9zcyB0aGUgRm9y
        ZW1hbiBpbnN0YW5jZS5cbkl0IGRlZmluZXMgVGFzayBtb2RlbCBmb3Iga2Vl
        cGluZyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRhc2tzIGFuZCBMb2Nr
        IGZvciBhc3NpZ25pbmcgdGhlIHRhc2tzXG50byByZXNvdXJjZXMuIFRoZSBs
        b2NraW5nIGFsbG93cyBkZWFsaW5nIHdpdGggcHJldmVudGluZyBtdWx0aXBs
        ZSBjb2xsaWRpbmcgdGFza3MgdG8gYmUgcnVuIG9uIHRoZVxuc2FtZSByZXNv
        dXJjZS4gSXQgYWxzbyBvcHRpb25hbGx5IHByb3ZpZGVzIER5bmZsb3cgaW5m
        cmFzdHJ1Y3R1cmUgZm9yIHVzaW5nIGl0IGZvciBtYW5hZ2luZyB0aGUgdGFz
        a3MuXG4iLCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vdGhlZm9yZW1hbi9m
        b3JlbWFuLXRhc2tzIiwidmVyc2lvbiI6IjAuNy4xNC45In0seyJpZCI6ImZv
        cmVtYW5fYm9vdGRpc2siLCJuYW1lIjoiZm9yZW1hbl9ib290ZGlzayIsImF1
        dGhvciI6IkRvbWluaWMgQ2xlYWwiLCJkZXNjcmlwdGlvbiI6IlBsdWdpbiBm
        b3IgRm9yZW1hbiB0aGF0IGNyZWF0ZXMgaVBYRS1iYXNlZCBib290IGRpc2tz
        IHRvIHByb3Zpc2lvbiBob3N0cyB3aXRob3V0IHRoZSBuZWVkIGZvciBQWEUg
        aW5mcmFzdHJ1Y3R1cmUuIiwidXJsIjoiaHR0cDovL2dpdGh1Yi5jb20vdGhl
        Zm9yZW1hbi9mb3JlbWFuX2Jvb3RkaXNrIiwidmVyc2lvbiI6IjYuMS4wLjMi
        fSx7ImlkIjoiZm9yZW1hbl9kaXNjb3ZlcnkiLCJuYW1lIjoiZm9yZW1hbl9k
        aXNjb3ZlcnkiLCJhdXRob3IiOiJBbW9zIEJlbmFyaSxCcnlhbiBLZWFybmV5
        LENoYWlybWFuVHViZUFtcCxEYW5pZWwgTG9iYXRvIEdhcmPDrWEsRG9taW5p
        YyBDbGVhbCxFcmljIEQuIEhlbG1zLEZyYW5rIFdhbGwsR3JlZyBTdXRjbGlm
        ZmUsSW1yaSBadmlrLEpvc2VwaCBNaXRjaGVsbCBNYWdlbixMdWthcyBaYXBs
        ZXRhbCxMdWvDocWhIFphcGxldGFsLE1hcmVrIEh1bGFuLE1hcnRpbiBCYcSN
        b3Zza8O9LE1hdHQgSmFydmlzLE1pY2hhZWwgTW9sbCxOaWNrLE9oYWQgTGV2
        eSxPcmkgUmFiaW4sUGV0ciBDaGFsdXBhLFBoaXJpbmNlIFBoaWxpcCxTY3Vi
        YWZsb3lkLFNobG9taSBaYWRvayxTdGVwaGVuIEJlbmphbWluLFlhbm4gQ8Op
        emFyZCIsImRlc2NyaXB0aW9uIjoiTWFhUyBEaXNjb3ZlcnkgUGx1Z2luIGVu
        Z2luZSBmb3IgRm9yZW1hbiIsInVybCI6Imh0dHA6Ly9naXRodWIuY29tL3Ro
        ZWZvcmVtYW4vZm9yZW1hbl9kaXNjb3ZlcnkiLCJ2ZXJzaW9uIjoiNS4wLjAu
        OSJ9LHsiaWQiOiJmb3JlbWFuX2RvY2tlciIsIm5hbWUiOiJmb3JlbWFuX2Rv
        Y2tlciIsImF1dGhvciI6IkRhbmllbCBMb2JhdG8sIEFtb3MgQmVuYXJpIiwi
        ZGVzY3JpcHRpb24iOiJQcm92aXNpb24gYW5kIG1hbmFnZSBEb2NrZXIgY29u
        dGFpbmVycyBhbmQgaW1hZ2VzIGZyb20gRm9yZW1hbi4iLCJ1cmwiOiJodHRw
        Oi8vZ2l0aHViLmNvbS90aGVmb3JlbWFuL2ZvcmVtYW4tZG9ja2VyIiwidmVy
        c2lvbiI6IjIuMC4xLjExIn0seyJpZCI6ImZvcmVtYW5faG9va3MiLCJuYW1l
        IjoiZm9yZW1hbl9ob29rcyIsImF1dGhvciI6IkRvbWluaWMgQ2xlYWwiLCJk
        ZXNjcmlwdGlvbiI6IlBsdWdpbiBlbmdpbmUgZm9yIEZvcmVtYW4gdGhhdCBl
        bmFibGVzIHJ1bm5pbmcgY3VzdG9tIGhvb2sgc2NyaXB0cyBvbiBGb3JlbWFu
        IGV2ZW50cyIsInVybCI6Imh0dHA6Ly9naXRodWIuY29tL3RoZWZvcmVtYW4v
        Zm9yZW1hbl9ob29rcyIsInZlcnNpb24iOiIwLjMuMTEifSx7ImlkIjoiZm9y
        ZW1hbl9vcGVuc2NhcCIsIm5hbWUiOiJmb3JlbWFuX29wZW5zY2FwIiwiYXV0
        aG9yIjoixaBpbW9uIEx1a2HFocOtayxTaGxvbWkgWmFkb2ssTWFyZWsgSHVs
        YW4sT25kcmVqIFByYXphayIsImRlc2NyaXB0aW9uIjoiRm9yZW1hbiBwbHVn
        LWluIGZvciBtYW5hZ2luZyBzZWN1cml0eSBjb21wbGlhbmNlIHJlcG9ydHMi
        LCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vT3BlblNDQVAvZm9yZW1hbl9v
        cGVuc2NhcCIsInZlcnNpb24iOiIwLjUuMy4xOCJ9LHsiaWQiOiJmb3JlbWFu
        X3JlbW90ZV9leGVjdXRpb24iLCJuYW1lIjoiZm9yZW1hbl9yZW1vdGVfZXhl
        Y3V0aW9uIiwiYXV0aG9yIjoiRm9yZW1hbiBSZW1vdGUgRXhlY3V0aW9uIHRl
        YW0iLCJkZXNjcmlwdGlvbiI6IkEgcGx1Z2luIGJyaW5naW5nIHJlbW90ZSBl
        eGVjdXRpb24gdG8gdGhlIEZvcmVtYW4sIGNvbXBsZXRpbmcgdGhlIGNvbmZp
        ZyBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgd2l0aCByZW1vdGUgbWFuYWdl
        bWVudCBmdW5jdGlvbmFsaXR5LiIsInVybCI6Imh0dHBzOi8vZ2l0aHViLmNv
        bS90aGVmb3JlbWFuL2ZvcmVtYW5fcmVtb3RlX2V4ZWN1dGlvbiIsInZlcnNp
        b24iOiIwLjMuMC4xMiJ9LHsiaWQiOiJmb3JlbWFuX3RoZW1lX3NhdGVsbGl0
        ZSIsIm5hbWUiOiJmb3JlbWFuX3RoZW1lX3NhdGVsbGl0ZSIsImF1dGhvciI6
        IkFsb24gR29sZGJvaW0sIFNoaW1vbiBTdGVpbiIsImRlc2NyaXB0aW9uIjoi
        VGhpcyBpcyBhIHBsdWdpbiB0aGF0IGVuYWJsZXMgYnVpbGRpbmcgYSB0aGVt
        ZSBmb3IgRm9yZW1hbi4iLCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vYWxv
        bmdvbGRib2ltL2ZvcmVtYW5fdGhlbWVfc2F0ZWxsaXRlIiwidmVyc2lvbiI6
        IjAuMS4zMyJ9LHsiaWQiOiJrYXRlbGxvIiwibmFtZSI6ImthdGVsbG8iLCJh
        dXRob3IiOiJOL0EiLCJkZXNjcmlwdGlvbiI6IkNvbnRlbnQgYW5kIFN1YnNj
        cmlwdGlvbiBNYW5hZ2VtZW50IHBsdWdpbiBmb3IgRm9yZW1hbiIsInVybCI6
        Imh0dHA6Ly93d3cua2F0ZWxsby5vcmciLCJ2ZXJzaW9uIjoiMy4wLjAuODIi
        fSx7ImlkIjoicmVkaGF0X2FjY2VzcyIsIm5hbWUiOiJyZWRoYXRfYWNjZXNz
        IiwiYXV0aG9yIjoiTGluZGFuaSBQaGlyaSIsImRlc2NyaXB0aW9uIjoiVGhp
        cyBwbHVnaW4gYWRkcyBSZWQgSGF0IEFjY2VzcyBrbm93bGVkZ2UgYmFzZSBz
        ZWFyY2gsIGNhc2UgbWFuYWdlbWVudCBhbmQgZGlhZ25vc3RpY3MgdG8gRm9y
        ZW1hbiIsInVybCI6Imh0dHA6Ly93d3cubHBoaXJpLnJlZGhhdC5jb20iLCJ2
        ZXJzaW9uIjoiMS4wLjEzIn1dCn0K
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:41 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/katello/api/organizations?per_page=999999&search=name=%22Test%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2daeb4a0-ae26-40f8-b6b2-099a20e3e723
      X-Runtime:
      - '0.060023'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"889d59438c9dbada3bd3c0b258f7a13e-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '388'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=a253affaddc12a3273ed9f8eb77765c7; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Test Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"testcorp","created_at":"2016-12-01 19:35:26 UTC","updated_at":"2017-03-27 18:36:07 UTC","id":3,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:42 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/organizations/3/hosts?per_page=1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 69122023-1a01-4646-a7e0-c6dea28580da
      X-Runtime:
      - '0.122034'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"aa071a3b0682e7e6e0310fa5e49927ac-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '2293'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=f4e266c3d1ec445e7e7d5b6527a5844f; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 1,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-01 19:38:28 UTC","updated_at":"2017-03-27 18:21:56 UTC","last_compile":"2016-12-01 19:38:30 UTC","global_status":0,"global_status_label":"Warning","organization_id":3,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":7,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","last_checkin":"2016-12-01 19:38:28 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-01 19:38:28 UTC"},"content_host_id":6}]
        }
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:42 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/organizations/3/hosts?page=1&per_page=20
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:36 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a5e58060-6e40-4caa-8b6a-b55dc38bae4b
      X-Runtime:
      - '0.155206'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"790c22d6d1fcf8c0b08afacb06f8909f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '4426'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=9578f1339c01167f6c6129a91fff314d; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 20,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-01 19:38:28 UTC","updated_at":"2017-03-27 18:21:56 UTC","last_compile":"2016-12-01 19:38:30 UTC","global_status":0,"global_status_label":"Warning","organization_id":3,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":7,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","last_checkin":"2016-12-01 19:38:28 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-01 19:38:28 UTC"},"content_host_id":6},{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-01 19:37:05 UTC","updated_at":"2017-03-27 18:28:09 UTC","last_compile":"2016-12-01 19:37:06 UTC","global_status":0,"global_status_label":"Warning","organization_id":3,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":6,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"2b996a62-2be7-4cb6-adaa-0933a69cb9bc","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":5,"uuid":"2b996a62-2be7-4cb6-adaa-0933a69cb9bc","last_checkin":"2016-12-01 19:37:05 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-01 19:37:05 UTC"},"content_host_id":5}]
        }
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:42 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/katello/api/organizations/3/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:36 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4436fcd9-5023-4cfb-9bed-3c42d2380ae9
      X-Runtime:
      - '0.156618'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"45596627ffb1b49933df35abb855f9e6-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3019'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=316f0e68644dc7e289ae9cd6d4a199ab; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":4,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":3},"created_at":"2016-12-01
        19:37:22 UTC","updated_at":"2016-12-01 19:37:22 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":5,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":3},"created_at":"2016-12-01
        19:37:23 UTC","updated_at":"2016-12-01 19:37:23 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":3},"created_at":"2016-12-01 19:35:26
        UTC","updated_at":"2016-12-01 19:35:26 UTC","prior":null,"successor":null,"counts":{"content_hosts":2,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":3,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":3},"created_at":"2016-12-01
        19:37:22 UTC","updated_at":"2016-12-01 19:37:22 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":3},"created_at":"2016-12-01
        19:37:23 UTC","updated_at":"2016-12-01 19:37:23 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:42 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/katello/api/organizations/3/content_views?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:36 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4e49de78-5a77-4bdb-ac8b-e689d4bca645
      X-Runtime:
      - '0.098444'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"1c1265963c6c84f0c08824867548b772-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1804'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=05361998ba67fc8d543bb9a818ba5acf; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":2,"subtotal":2,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"composite":false,"repository_ids":[],"component_ids":[],"default":false,"next_version":2,"id":3,"name":"Test
        Puppet Modules","label":"Test_Puppet_Modules","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":3},"created_at":"2016-12-01 19:37:07
        UTC","updated_at":"2016-12-01 19:37:09 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":3,"version":"1.0","published":"2016-12-01
        19:37:09 UTC","environment_ids":[2]}],"components":[],"activation_keys":[],"last_published":"2016-12-01
        19:37:09 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}},{"composite":false,"repository_ids":[],"component_ids":[],"default":true,"next_version":1,"id":2,"name":"Default
        Organization View","label":"7c1866f5-d7d6-46be-8ff4-0e358070e3cd","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":3},"created_at":"2016-12-01 19:35:27
        UTC","updated_at":"2016-12-01 19:35:27 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":2,"version":"1.0","published":"2016-12-01
        19:35:27 UTC","environment_ids":[2]}],"components":[],"activation_keys":[{"id":4,"name":"testakey"},{"id":5,"name":"testakeyitemized"}],"last_published":"2016-12-01
        19:35:27 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:42 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/6
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null,"autoheal":true}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '287'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:36 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2a43c223-7eed-4cc3-9580-e2c3894513e7
      X-Runtime:
      - '0.708308'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"645c7a2212b1806ef5700003b42abd8f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3820'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=a769fa5a1d340f055f2ae800a8bab226; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-01
        19:37:05 UTC","updated_at":"2017-03-27 18:28:09 UTC","last_compile":"2016-12-01
        19:37:06 UTC","global_status":0,"global_status_label":"Warning","organization_id":3,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":6,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"2b996a62-2be7-4cb6-adaa-0933a69cb9bc","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":5,"uuid":"2b996a62-2be7-4cb6-adaa-0933a69cb9bc","last_checkin":"2016-12-01
        19:37:05 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-01
        19:37:05 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"ff80808158bbd8b50158bbe41f0e03f7","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-01T19:37:19.374+0000","updated":"2016-12-01T19:37:19.374+0000"}]},"content_host_id":5,"parameters":[],"interfaces":[{"id":6,"name":"testvm","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"system::certificate_version":"3.2","network::hostname":"testvm","cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"4","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testvm","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-01T19:37:06+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:43 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/rhsm/consumers/2b996a62-2be7-4cb6-adaa-0933a69cb9bc
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:37 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.82
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2cb9da32-4595-4781-9226-110c995cdfd4
      X-Runtime:
      - '0.115915'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"4efe3563b4ad8e5243099dd9878081de-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3312'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=f3c8925eee3a9a9c9fe72ff6ff0af56a; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"id":"ff80808158bbd8b50158bbe3e86203f1","uuid":"2b996a62-2be7-4cb6-adaa-0933a69cb9bc","name":"testvm","username":"foreman_admin","entitlementStatus":"valid","serviceLevel":"","releaseVer":{"releaseVer":null},"idCert":{"key":"-----BEGIN
        RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAkuWxxLoi8fqnmeWcN1ucQROY6XyJUq1OeJNR8U4rTL3xlqrA\n4rZhc6h1pX4cy/HN/gUQ1tNnyrxiv+Kz+jcLtC9bvDJPp2K4jpKjVy7SXlCPAi7g\n6mzhxASwSRjqPugkK7tDIcD6xvXnWJFK+5FLa93CazAEAQqzpIiXUwdbWwCj2sh0\nI4CKvbBDZZUKhyEf4q7E8oLC16T1BBxTDGLRC2rSXnIniIFRNLClYizDlYgS9FlT\nXo4emQ1bDlDgGyx5CAjQ6Tiy4CS1dq5NqjMTeHRERJ0QNXz15R/zmNPfcci4pyw4\nGCtJTy+aozqUVO3FMFId9a2WXGxlqiyvBNor7wIDAQABAoIBAHcGYmoSoCoNfSv3\nngJE2nDoXigh3mr9Pe35AJZTTkZaSZxZMvz/5ip+vwSfENo3TT+b/y7yENF2n1T3\nbfk6DOOs09nDskLgfMYZDvyfVZlSEO4l6dxI6Q2Y9vXjmDnsgxJkI1sAMLJxoUhk\nQatg6Qm3n8aWG0h00WZpvqNp/J3YxeCLgbE3l6NUrYNJCSTEVXVAL85WHFjHOuNI\niPH4I5Y4KqjWg/bUBSLlBR6xRt2IO2bq7N8OmAoeXlvMf9eG47yLuCShf3qIAUwO\nrm5JdEnnf921EI79RlBmRcHKBfPWQlTRl2HknZQT5xXLU+7woVTwb+dPpxZPlbeZ\nBVLxEbECgYEA0ByMbkJ0TGv0YhV4L3jH7bSL+UmmcBmTTlNWfZlGXmJXq8fJ0oGH\nNMycKMDLh6KTu6zq2pL4fHqLxp1Li3tMGSIhP4pycxajNswS4eUrRVQQBmaviXFM\neYrr3Kem2/WipzfjPxwdVLdP2aCtV0EDu2JX85xi4attzyYJ3ABUnJUCgYEAtLMh\nS3D8AKLW4f9odIQnm2dGar9ExQ+t6vFHg+MWBNkXnsxCqjdF4GauY7ehmHBrDmGd\n/N53PKobrsqx/QdIDoEo6DtQQvzyi8T1VB+MaAxJvMbBCaxRKk1RtWLG3pEtLtZJ\n++iWcpbYSRsRobo7oEblesquiQsEVZeSBNs+QXMCgYB/hi7rVZ9sQO60t9E4zbs9\nRthK/r2VjaZ9ZYXnWugK6Bou8jMS4jpWuVarhlBxoccDRtd27n6D0JgcMcDcDMa5\n0/cpt42gRmvnJTAg6kwUpIlZUs0X3KxvAhi70qPlv2RXMWD4CCNVCStOAS6W/Ajs\nZzvb1KWnAWQ9fmKmRDGU7QKBgQCQgXgs1qwQ7iieDxy/oTfzZUHA+DjMxt80tcOV\nSzM+qUXkbkEZ0p4E+NiZUi7es3hJxfMMV/RPBVKiE+MHEJ2lS9Ek9toW2CY3dEkk\n/x3Pz5PgbanOTImUJMUlI1safkr928zKsZQvC0boH8eX6FDqugemjRPK8I6EzHOv\ngo1k1QKBgEwGcGNxZdQ/GLaU9+GgsYSJhZmDuPlL6g3Yd/FWPSPHRWHvtZR4o9Jx\nzpW3RG/vvx7c+H3V4J2t30qUMyJvl4PDBxyRW6taiaz/qOZ1mgrUfT2laEgOwAsY\nCqOuN+AmJTUPSU/vkwU1UrBKY9qlAypF/99v+xSvU7mjs6xLbjIz\n-----END
        RSA PRIVATE KEY-----\n","cert":"-----BEGIN CERTIFICATE-----\nMIIETzCCAzegAwIBAgIIbWwOMYTADFgwDQYJKoZIhvcNAQEFBQAwfDELMAkGA1UE\nBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRAwDgYDVQQHEwdSYWxlaWdo\nMRAwDgYDVQQKEwdLYXRlbGxvMRQwEgYDVQQLEwtTb21lT3JnVW5pdDEaMBgGA1UE\nAxMRc2F0NjIuZXhhbXBsZS5jb20wHhcNMTYxMjAxMTkzNzA1WhcNMzIxMjAxMTkz\nNzA1WjAvMS0wKwYDVQQDEyQyYjk5NmE2Mi0yYmU3LTRjYjYtYWRhYS0wOTMzYTY5\nY2I5YmMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCS5bHEuiLx+qeZ\n5Zw3W5xBE5jpfIlSrU54k1HxTitMvfGWqsDitmFzqHWlfhzL8c3+BRDW02fKvGK/\n4rP6Nwu0L1u8Mk+nYriOkqNXLtJeUI8CLuDqbOHEBLBJGOo+6CQru0MhwPrG9edY\nkUr7kUtr3cJrMAQBCrOkiJdTB1tbAKPayHQjgIq9sENllQqHIR/irsTygsLXpPUE\nHFMMYtELatJecieIgVE0sKViLMOViBL0WVNejh6ZDVsOUOAbLHkICNDpOLLgJLV2\nrk2qMxN4dEREnRA1fPXlH/OY099xyLinLDgYK0lPL5qjOpRU7cUwUh31rZZcbGWq\nLK8E2ivvAgMBAAGjggEgMIIBHDARBglghkgBhvhCAQEEBAMCBaAwCwYDVR0PBAQD\nAgSwMIGvBgNVHSMEgacwgaSAFE0a7C+GbR8izagxm3Zq6NJUOCLhoYGApH4wfDEL\nMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRAwDgYDVQQHEwdS\nYWxlaWdoMRAwDgYDVQQKEwdLYXRlbGxvMRQwEgYDVQQLEwtTb21lT3JnVW5pdDEa\nMBgGA1UEAxMRc2F0NjIuZXhhbXBsZS5jb22CCQCOJqql+xfH2TAdBgNVHQ4EFgQU\njqyrKIP2FScbRy8M3fy9mEQ7HuQwEwYDVR0lBAwwCgYIKwYBBQUHAwIwFAYDVR0R\nBA0wC4YJQ049dGVzdHZtMA0GCSqGSIb3DQEBBQUAA4IBAQAW+N4rmGhcM0l+Fv/K\ndHAMjCNyT71omzrv3DPfVmEntMMMOH9yhLw6skJ0hkovUNzyuIOA6Azg7hok6JwO\ngXH/yHfr8roZqSaJSWTcMv3kspKMjyM8Ss0u2u3Vq+RwUvp29lXmwmti1AvcdAn7\n2zz6eDTytfvGzLqAayKZhDXQiQH1/Ruds8hNS/RxG0mCAjyCuyVnzipCUy29jauj\nab+uzhP4lPy3MX3B7Q442mNwU3rI0Jd8JMbb7bkEr5CGT35Rka2j5vNRX5bK+9vb\nerYsGpjlwK0W0Y/QkWhmsKdB7nKg2xO+FBl03/693FjxNJSHB5R4pBJRyQHuDAZ7\nu2Sc\n-----END
        CERTIFICATE-----\n","id":"ff80808158bbd8b50158bbe3e94803f4","serial":{"id":7884692653462260824,"revoked":false,"collected":false,"expiration":"2032-12-01T19:37:05.381+0000","serial":7884692653462260824,"created":"2016-12-01T19:37:05.381+0000","updated":"2016-12-01T19:37:05.381+0000"},"created":"2016-12-01T19:37:05.608+0000","updated":"2016-12-01T19:37:05.608+0000"},"type":{"id":"1000","label":"system","manifest":false},"owner":{"id":"ff80808158bbd8b50158bbe26aef03c2","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"environment":{"owner":{"id":"ff80808158bbd8b50158bbe26aef03c2","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"name":"Library","description":null,"id":"2","environmentContent":[{"id":"ff8080815adcc9a9015b110dba7b0e0d","contentId":"1490639748543","enabled":null,"created":"2017-03-27T18:36:04.091+0000","updated":"2017-03-27T18:36:04.091+0000"}],"created":"2016-12-01T19:35:27.852+0000","updated":"2016-12-01T19:35:27.852+0000"},"entitlementCount":1,"facts":{"virt.uuid":"Test
        Corporation/testvm","network.hostname":"testvm","distribution.name":"RHEL","distribution.version":"7Server","system.certificate_version":"3.2","_timestamp":"2016-12-01T19:37:05+00:00","uname.machine":"x86_64","cpu.cpu_socket(s)":"4","memory.memtotal":"4GB","cpu.core(s)_per_socket":"1","cpu.cpu(s)":"1","virt.is_guest":"true"},"lastCheckin":null,"installedProducts":[{"id":"ff80808158bbd8b50158bbe41f0e03f7","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-01T19:37:19.374+0000","updated":"2016-12-01T19:37:19.374+0000"}],"canActivate":false,"guestIds":[],"capabilities":[],"hypervisorId":null,"contentTags":[],"autoheal":true,"dev":false,"href":"/consumers/2b996a62-2be7-4cb6-adaa-0933a69cb9bc","created":"2016-12-01T19:37:05.378+0000","updated":"2017-03-27T18:36:37.186+0000"}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:43 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/rhsm/consumers/2b996a62-2be7-4cb6-adaa-0933a69cb9bc
    body:
      encoding: UTF-8
      string: '{"facts":{"virt.uuid":"Test Corporation/testvm","network.hostname":"testvm","distribution.name":"RHEL","distribution.version":"7Server","system.certificate_version":"3.2","_timestamp":"2016-12-01T19:37:05+00:00","uname.machine":"x86_64","cpu.cpu_socket(s)":"4","memory.memtotal":"4GB","cpu.core(s)_per_socket":"1","cpu.cpu(s)":"1","virt.is_guest":true}}'
    headers:
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 403
      message: Forbidden
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:37 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 9641c5ab-f81b-4d17-b6a8-c1ca9d4e9c8b
      X-Runtime:
      - '0.015887'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Status:
      - 403 Forbidden
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=9787154fe7b316ce7f3617244f2ff598; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"displayMessage":"Access denied","errors":["Access denied"]}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:43 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/6/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:37 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f57ef53b-dc74-432b-8ddc-86ef268c6caf
      X-Runtime:
      - '0.238194'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"432a2ddf33f52f81d9755d5ede670c43-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=265d11e7612e6602a1303b92a3dcdf2f; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:43 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/6/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":19,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:37 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - bf07fc28-7ae2-43ea-9972-1aae4df85a89
      X-Runtime:
      - '1.034431'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"720194006e41895278a533fbe0ce2628-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=79f14dea7a8e85773c5ff56f1dbf4b5c; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:44 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/katello/api/organizations/3/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:38 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 049ca970-dbc1-4ab0-b70c-03bb387fe7e9
      X-Runtime:
      - '0.662522'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"e1ffeb35e3e2d3cd6c34d126d038cecb-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=bb82f2e4cae86e706a66c6e6614d1cdb; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false},{"id":20,"cp_id":"ff80808158bbd8b50158bbe4a4cb04c6","subscription_id":14,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":22,"cp_id":"ff80808158bbd8b50158bbe4a5020524","subscription_id":15,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:45 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/6/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":19,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:39 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 45f77e95-8937-4b51-a60f-a39d133c58f1
      X-Runtime:
      - '1.457457'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=ba38252f907d4fd64ce0a175adb0163f; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:47 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/7
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null,"autoheal":true}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '287'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:40 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 565179ca-7f37-4a84-bf5f-f5c5b848f029
      X-Runtime:
      - '1.105027'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"f06552997466e07602f8d7e5d026e2db-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3850'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=7fd12a6fda65b12ed7eee98b946f25e4; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-01
        19:38:28 UTC","updated_at":"2017-03-27 18:21:56 UTC","last_compile":"2016-12-01
        19:38:30 UTC","global_status":0,"global_status_label":"Warning","organization_id":3,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":7,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":6,"uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","last_checkin":"2016-12-01
        19:38:28 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-01
        19:38:28 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"ff80808158bbd8b50158bbe53a530599","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-01T19:38:31.891+0000","updated":"2016-12-01T19:38:31.891+0000"}]},"content_host_id":6,"parameters":[],"interfaces":[{"id":7,"name":"testphysical","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"system::certificate_version":"3.2","network::hostname":"testphysical","cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"8","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testphysical","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-01T19:38:30+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:48 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/rhsm/consumers/22955fb7-7b12-4db8-83be-6443ba725d77
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      X-Candlepin-Version:
      - katello/3.0.0.82
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 8a0508c2-ed48-4177-9449-32445a8940f3
      X-Runtime:
      - '0.103003'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"8a61317cc30599121b89abb880ffdeb5-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3324'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=25f6f6110ff8027d893ddc49eabf610b; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"id":"ff80808158bbd8b50158bbe52eeb058f","uuid":"22955fb7-7b12-4db8-83be-6443ba725d77","name":"testphysical","username":"foreman_admin","entitlementStatus":"valid","serviceLevel":"","releaseVer":{"releaseVer":null},"idCert":{"key":"-----BEGIN
        RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEA7uT3AuhqlVhFUK6MGJqXphisivdCv9kpjHmOhxKG0ozMihfF\nfVDD/+xviVPGB72teN9T3d7qfaX/1qElUSyaMcJ4HvZYHiP2l8pxCTEN4gJRZyIB\naPYKSCvPyHJq5gRuzvcUcGIXOljHjX0iqbD1FRvlNysp13b7RuodeNHafPkO99DV\nsAdqxfe3buNR7gzoxCiekyQW2RUqfKeuqPEISM6TuUgeDKzX4MVsRHpaJ/Z1QCFZ\nWQSPHvQypn4U4qLZFku5JnKE39BTki6mdlceB2QyE5YB0hRlg8odNSq5b+I/gQ3T\niMe6GctP0tOze6xTkKA797H327/eSGoX6XrocQIDAQABAoIBADqmqCZknVZRN6NZ\nVzfrLHQw9pufnRmw3UyJw35SBBvJSaZVs7zSiWxZxgB3OtVHskFMwzBjvDpg+PDe\n22SUiL7Sud8QKA4uUipuH1ZcXsYwP4AMj0APt/KEHx1dSfVy/Sl+69uzmXRPu553\nLH1w3pryIFJtHHaz1XlRnS6+ht/LZHvPsWUnDwVPVdxEKISSthK4kiVqaEpwW8bG\nVYG/3GuxCn1f6tGnJi/1/u92oz8i8b/LhvHDVWiY224L/sNKTLZhuci1IhExOeEX\nDZWLdK26aBQ8GGr7pfZL2eHpi/LrSj85dcw73uR6IXZnJpwcZTViN9w67Zs8RDSd\nxO1gzckCgYEA+Yk61my1eGjsJ/AS0UaIleOJsl4v6AEGh20yi1Cuq8lYmLZQ+nVE\nW3NYAfesoJ4+5n9wK8Rp2CoFnkWWWp6eOMkmVOOJRf7XUn7o5JruUR4B7oBrClce\nbXp0hE2mjDV/8Jzm1QDsNA2dvueMCY5HBllOZmJJqOOEhayEkxTQzNsCgYEA9RUq\nhLTyGV7CAOlqHzTxE+GAZH2PgYiGsbY6zkEKOfKIwISZAmiyBuUSTCRt9swHag0j\nPp2zY55f5M7CrNEYc1v3udI35RMiQk2mMiz7XUvqjnCDEZaUlOIR+Yxr/rLGZgRT\n+Q/2E4Sq+UBsVlhkzaYxc9qrU3xSpeNd79OWO6MCgYAgPwiYbwHgZoal/pMf8iJy\nZC4GG7/LFl7Wn1jZwfpgfqtxSJYcV40W2Ef2MSBgvTJZrPw826vl4EBLnKh6W2cM\n5YmLjL/PiMggg//qks7bMqqDPJsYgfuPoDRwaGxuT/eRi2UU/4KGk3/gDKH/FiC9\nhErqVic4qPYWJB4Zt6Xn4wKBgD5MUhGHuV6vkpsOujYSjBFkqfFhZWAk5zA3RT12\nlPXj69UcH5TYLiDIi90lCXrJpDzV+BaLmbUB5hhQYnXxdMimIRNwF1s4gOXfvRZW\nDtNJX+czPG31G/G4gZ8wjachpIL8KKhP4VpWx+sx8BgGwiDwVPPBKvm+yXd3k0JK\nQ48HAoGBAL7K12l8/Gmx95n0HeLzKapWjhJIuZ5+gzHf5ZobptHpNmQAGoekp9IN\nfwHuLNHzYVgnJvsv4QohNDfjxUBA6TnJwBzmHgpLeqtUfQ8pajymS8JYGBXeCc4i\ngporU1Pfp8vAqgcWtHZAPpx0XEoUwAWpBPozzGuq3rH3rBXsSgFp\n-----END
        RSA PRIVATE KEY-----\n","cert":"-----BEGIN CERTIFICATE-----\nMIIEVTCCAz2gAwIBAgIIB+XvaZU5POwwDQYJKoZIhvcNAQEFBQAwfDELMAkGA1UE\nBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRAwDgYDVQQHEwdSYWxlaWdo\nMRAwDgYDVQQKEwdLYXRlbGxvMRQwEgYDVQQLEwtTb21lT3JnVW5pdDEaMBgGA1UE\nAxMRc2F0NjIuZXhhbXBsZS5jb20wHhcNMTYxMjAxMTkzODI4WhcNMzIxMjAxMTkz\nODI4WjAvMS0wKwYDVQQDEyQyMjk1NWZiNy03YjEyLTRkYjgtODNiZS02NDQzYmE3\nMjVkNzcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDu5PcC6GqVWEVQ\nrowYmpemGKyK90K/2SmMeY6HEobSjMyKF8V9UMP/7G+JU8YHva1431Pd3up9pf/W\noSVRLJoxwnge9lgeI/aXynEJMQ3iAlFnIgFo9gpIK8/IcmrmBG7O9xRwYhc6WMeN\nfSKpsPUVG+U3KynXdvtG6h140dp8+Q730NWwB2rF97du41HuDOjEKJ6TJBbZFSp8\np66o8QhIzpO5SB4MrNfgxWxEelon9nVAIVlZBI8e9DKmfhTiotkWS7kmcoTf0FOS\nLqZ2Vx4HZDITlgHSFGWDyh01Krlv4j+BDdOIx7oZy0/S07N7rFOQoDv3sffbv95I\nahfpeuhxAgMBAAGjggEmMIIBIjARBglghkgBhvhCAQEEBAMCBaAwCwYDVR0PBAQD\nAgSwMIGvBgNVHSMEgacwgaSAFE0a7C+GbR8izagxm3Zq6NJUOCLhoYGApH4wfDEL\nMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRAwDgYDVQQHEwdS\nYWxlaWdoMRAwDgYDVQQKEwdLYXRlbGxvMRQwEgYDVQQLEwtTb21lT3JnVW5pdDEa\nMBgGA1UEAxMRc2F0NjIuZXhhbXBsZS5jb22CCQCOJqql+xfH2TAdBgNVHQ4EFgQU\n8cuzDFqNy7j6CxsUoveA5HvsC6gwEwYDVR0lBAwwCgYIKwYBBQUHAwIwGgYDVR0R\nBBMwEYYPQ049dGVzdHBoeXNpY2FsMA0GCSqGSIb3DQEBBQUAA4IBAQCvdM04WpUc\nCdoCZp+mCgybekhRr65BsDpZrv96/rRRJOcJ0QtvqbBEKTMvEaJqDHpoA9eYRj5o\njZPzVJsJWeyCujPJ30SwB8tXqVNpdGBSDrOlgcpMSu9+l31N74hFM2UBzwER2tqS\nxfms7O/nXPhADsBBIu/nC5avLISRpoM+RLfZPttoNCnDDNd2jOZIBPXyMmvc1rh8\njnr7ENfeFnPGtpsB33oCKePe1GdAqcWdl1LRlpFAihPBBQqA2xkGKNnBIbjTvAAr\nfS0XMc8S6tbbYstj2PYpSfAvltStsVOl1sFBasTN89h1wKfnB6Y5P/FkyQYamvSS\nvN+Df4/SYVHY\n-----END
        CERTIFICATE-----\n","id":"ff80808158bbd8b50158bbe530060592","serial":{"id":569124164686396652,"revoked":false,"collected":false,"expiration":"2032-12-01T19:38:28.974+0000","serial":569124164686396652,"created":"2016-12-01T19:38:28.974+0000","updated":"2016-12-01T19:38:28.974+0000"},"created":"2016-12-01T19:38:29.254+0000","updated":"2016-12-01T19:38:29.254+0000"},"type":{"id":"1000","label":"system","manifest":false},"owner":{"id":"ff80808158bbd8b50158bbe26aef03c2","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"environment":{"owner":{"id":"ff80808158bbd8b50158bbe26aef03c2","key":"testcorp","displayName":"Test
        Corporation","href":"/owners/testcorp"},"name":"Library","description":null,"id":"2","environmentContent":[{"id":"ff8080815adcc9a9015b110dba7b0e0d","contentId":"1490639748543","enabled":null,"created":"2017-03-27T18:36:04.091+0000","updated":"2017-03-27T18:36:04.091+0000"}],"created":"2016-12-01T19:35:27.852+0000","updated":"2016-12-01T19:35:27.852+0000"},"entitlementCount":1,"facts":{"virt.uuid":"Test
        Corporation/testphysical","network.hostname":"testphysical","distribution.name":"RHEL","distribution.version":"7Server","system.certificate_version":"3.2","_timestamp":"2016-12-01T19:38:28+00:00","uname.machine":"x86_64","cpu.cpu_socket(s)":"8","memory.memtotal":"4GB","cpu.core(s)_per_socket":"1","cpu.cpu(s)":"1","virt.is_guest":"true"},"lastCheckin":null,"installedProducts":[{"id":"ff80808158bbd8b50158bbe53a530599","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-01T19:38:31.891+0000","updated":"2016-12-01T19:38:31.891+0000"}],"canActivate":false,"guestIds":[],"capabilities":[],"hypervisorId":null,"contentTags":[],"autoheal":true,"dev":false,"href":"/consumers/22955fb7-7b12-4db8-83be-6443ba725d77","created":"2016-12-01T19:38:28.971+0000","updated":"2017-03-27T18:36:41.832+0000"}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:48 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/rhsm/consumers/22955fb7-7b12-4db8-83be-6443ba725d77
    body:
      encoding: UTF-8
      string: '{"facts":{"virt.uuid":"Test Corporation/testphysical","network.hostname":"testphysical","distribution.name":"RHEL","distribution.version":"7Server","system.certificate_version":"3.2","_timestamp":"2016-12-01T19:38:28+00:00","uname.machine":"x86_64","cpu.cpu_socket(s)":"8","memory.memtotal":"4GB","cpu.core(s)_per_socket":"1","cpu.cpu(s)":"1","virt.is_guest":true}}'
    headers:
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 403
      message: Forbidden
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 4b5a986c-72b4-4b4e-9d04-84b0f78a74d8
      X-Runtime:
      - '0.014309'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Status:
      - 403 Forbidden
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=3000dd52ce536decf70a889b215e5007; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"displayMessage":"Access denied","errors":["Access denied"]}'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:48 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/7/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e7580e5f-9241-47d8-b37a-126b64bcca0b
      X-Runtime:
      - '0.226982'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"432a2ddf33f52f81d9755d5ede670c43-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=fa7c591f9bc1b67765733a90c9801215; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:48 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/7/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":19,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:42 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0dfee00c-50ad-4b27-a5c7-6ca4245c59d6
      X-Runtime:
      - '1.020586'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"720194006e41895278a533fbe0ce2628-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=e24eb691a03d5719b1317ef4fe33e87f; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:49 GMT
- request:
    method: get
    uri: https://admin:changeme@devel.example.com:50083/katello/api/organizations/3/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:43 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d5fad3d3-1fcd-4cbc-a11d-0e2015ec2edf
      X-Runtime:
      - '0.607675'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"e1ffeb35e3e2d3cd6c34d126d038cecb-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=68cce5218c43922f76a63075e807971d; path=/; secure; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":19,"cp_id":"ff80808158bbd8b50158bbe4a4a204a3","subscription_id":13,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false},{"id":20,"cp_id":"ff80808158bbd8b50158bbe4a4cb04c6","subscription_id":14,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":22,"cp_id":"ff80808158bbd8b50158bbe4a5020524","subscription_id":15,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:50 GMT
- request:
    method: put
    uri: https://admin:changeme@devel.example.com:50083/api/hosts/7/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":19,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - devel.example.com:50083
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 27 Mar 2017 18:36:44 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d17b8b92-4602-4a52-82eb-ac0b44621476
      X-Runtime:
      - '1.401255'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
      Set-Cookie:
      - _session_id=6179f5c0f1ece401ab8fe181be3e0fd3; path=/; secure; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Mon, 27 Mar 2017 18:36:51 GMT
recorded_with: VCR 3.0.3
