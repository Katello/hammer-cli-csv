---
http_interactions:
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/status
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:23 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - eca88e64-d3ea-4800-a1d3-ef0f90a6e63c
      X-Runtime:
      - '0.039973'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=86b86ff9ef4b9bda24b3e21025a5d895; path=/; secure; HttpOnly
      Etag:
      - '"8e3341d0a4cc328651f7391aed11fef8"'
      Status:
      - 200 OK
      Content-Length:
      - '66'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: UTF-8
      string: '{"result":"ok","status":200,"version":"1.11.0.54","api_version":2}'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/v2/plugins
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:23 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f956c6c5-3a58-4a51-83a2-60f4d91cb173
      X-Runtime:
      - '0.034884'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=ba213cdede883405dab444504d77f649; path=/; secure; HttpOnly
      Etag:
      - '"077fb42a553a8a1a1bbf6262a2cc79ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1338'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJ0b3RhbCI6IDEwLAogICJzdWJ0b3RhbCI6IDEwLAogICJwYWdlIjog
        MSwKICAicGVyX3BhZ2UiOiAyMCwKICAic2VhcmNoIjogbnVsbCwKICAic29y
        dCI6IHsKICAgICJieSI6IG51bGwsCiAgICAib3JkZXIiOiBudWxsCiAgfSwK
        ICAicmVzdWx0cyI6IFt7ImlkIjoiZm9yZW1hbi10YXNrcyIsIm5hbWUiOiJm
        b3JlbWFuLXRhc2tzIiwiYXV0aG9yIjoiSXZhbiBOZcSNYXMiLCJkZXNjcmlw
        dGlvbiI6IlRoZSBnb2FsIG9mIHRoaXMgcGx1Z2luIGlzIHRvIHVuaWZ5IHRo
        ZSB3YXkgb2Ygc2hvd2luZyB0YXNrIHN0YXR1c2VzIGFjcm9zcyB0aGUgRm9y
        ZW1hbiBpbnN0YW5jZS5cbkl0IGRlZmluZXMgVGFzayBtb2RlbCBmb3Iga2Vl
        cGluZyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRhc2tzIGFuZCBMb2Nr
        IGZvciBhc3NpZ25pbmcgdGhlIHRhc2tzXG50byByZXNvdXJjZXMuIFRoZSBs
        b2NraW5nIGFsbG93cyBkZWFsaW5nIHdpdGggcHJldmVudGluZyBtdWx0aXBs
        ZSBjb2xsaWRpbmcgdGFza3MgdG8gYmUgcnVuIG9uIHRoZVxuc2FtZSByZXNv
        dXJjZS4gSXQgYWxzbyBvcHRpb25hbGx5IHByb3ZpZGVzIER5bmZsb3cgaW5m
        cmFzdHJ1Y3R1cmUgZm9yIHVzaW5nIGl0IGZvciBtYW5hZ2luZyB0aGUgdGFz
        a3MuXG4iLCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vdGhlZm9yZW1hbi9m
        b3JlbWFuLXRhc2tzIiwidmVyc2lvbiI6IjAuNy4xNC45In0seyJpZCI6ImZv
        cmVtYW5fYm9vdGRpc2siLCJuYW1lIjoiZm9yZW1hbl9ib290ZGlzayIsImF1
        dGhvciI6IkRvbWluaWMgQ2xlYWwiLCJkZXNjcmlwdGlvbiI6IlBsdWdpbiBm
        b3IgRm9yZW1hbiB0aGF0IGNyZWF0ZXMgaVBYRS1iYXNlZCBib290IGRpc2tz
        IHRvIHByb3Zpc2lvbiBob3N0cyB3aXRob3V0IHRoZSBuZWVkIGZvciBQWEUg
        aW5mcmFzdHJ1Y3R1cmUuIiwidXJsIjoiaHR0cDovL2dpdGh1Yi5jb20vdGhl
        Zm9yZW1hbi9mb3JlbWFuX2Jvb3RkaXNrIiwidmVyc2lvbiI6IjYuMS4wLjMi
        fSx7ImlkIjoiZm9yZW1hbl9kaXNjb3ZlcnkiLCJuYW1lIjoiZm9yZW1hbl9k
        aXNjb3ZlcnkiLCJhdXRob3IiOiJBbW9zIEJlbmFyaSxCcnlhbiBLZWFybmV5
        LENoYWlybWFuVHViZUFtcCxEYW5pZWwgTG9iYXRvIEdhcmPDrWEsRG9taW5p
        YyBDbGVhbCxFcmljIEQuIEhlbG1zLEZyYW5rIFdhbGwsR3JlZyBTdXRjbGlm
        ZmUsSW1yaSBadmlrLEpvc2VwaCBNaXRjaGVsbCBNYWdlbixMdWthcyBaYXBs
        ZXRhbCxMdWvDocWhIFphcGxldGFsLE1hcmVrIEh1bGFuLE1hcnRpbiBCYcSN
        b3Zza8O9LE1hdHQgSmFydmlzLE1pY2hhZWwgTW9sbCxOaWNrLE9oYWQgTGV2
        eSxPcmkgUmFiaW4sUGV0ciBDaGFsdXBhLFBoaXJpbmNlIFBoaWxpcCxTY3Vi
        YWZsb3lkLFNobG9taSBaYWRvayxTdGVwaGVuIEJlbmphbWluLFlhbm4gQ8Op
        emFyZCIsImRlc2NyaXB0aW9uIjoiTWFhUyBEaXNjb3ZlcnkgUGx1Z2luIGVu
        Z2luZSBmb3IgRm9yZW1hbiIsInVybCI6Imh0dHA6Ly9naXRodWIuY29tL3Ro
        ZWZvcmVtYW4vZm9yZW1hbl9kaXNjb3ZlcnkiLCJ2ZXJzaW9uIjoiNS4wLjAu
        OSJ9LHsiaWQiOiJmb3JlbWFuX2RvY2tlciIsIm5hbWUiOiJmb3JlbWFuX2Rv
        Y2tlciIsImF1dGhvciI6IkRhbmllbCBMb2JhdG8sIEFtb3MgQmVuYXJpIiwi
        ZGVzY3JpcHRpb24iOiJQcm92aXNpb24gYW5kIG1hbmFnZSBEb2NrZXIgY29u
        dGFpbmVycyBhbmQgaW1hZ2VzIGZyb20gRm9yZW1hbi4iLCJ1cmwiOiJodHRw
        Oi8vZ2l0aHViLmNvbS90aGVmb3JlbWFuL2ZvcmVtYW4tZG9ja2VyIiwidmVy
        c2lvbiI6IjIuMC4xLjExIn0seyJpZCI6ImZvcmVtYW5faG9va3MiLCJuYW1l
        IjoiZm9yZW1hbl9ob29rcyIsImF1dGhvciI6IkRvbWluaWMgQ2xlYWwiLCJk
        ZXNjcmlwdGlvbiI6IlBsdWdpbiBlbmdpbmUgZm9yIEZvcmVtYW4gdGhhdCBl
        bmFibGVzIHJ1bm5pbmcgY3VzdG9tIGhvb2sgc2NyaXB0cyBvbiBGb3JlbWFu
        IGV2ZW50cyIsInVybCI6Imh0dHA6Ly9naXRodWIuY29tL3RoZWZvcmVtYW4v
        Zm9yZW1hbl9ob29rcyIsInZlcnNpb24iOiIwLjMuMTEifSx7ImlkIjoiZm9y
        ZW1hbl9vcGVuc2NhcCIsIm5hbWUiOiJmb3JlbWFuX29wZW5zY2FwIiwiYXV0
        aG9yIjoixaBpbW9uIEx1a2HFocOtayxTaGxvbWkgWmFkb2ssTWFyZWsgSHVs
        YW4sT25kcmVqIFByYXphayIsImRlc2NyaXB0aW9uIjoiRm9yZW1hbiBwbHVn
        LWluIGZvciBtYW5hZ2luZyBzZWN1cml0eSBjb21wbGlhbmNlIHJlcG9ydHMi
        LCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vT3BlblNDQVAvZm9yZW1hbl9v
        cGVuc2NhcCIsInZlcnNpb24iOiIwLjUuMy4xOCJ9LHsiaWQiOiJmb3JlbWFu
        X3JlbW90ZV9leGVjdXRpb24iLCJuYW1lIjoiZm9yZW1hbl9yZW1vdGVfZXhl
        Y3V0aW9uIiwiYXV0aG9yIjoiRm9yZW1hbiBSZW1vdGUgRXhlY3V0aW9uIHRl
        YW0iLCJkZXNjcmlwdGlvbiI6IkEgcGx1Z2luIGJyaW5naW5nIHJlbW90ZSBl
        eGVjdXRpb24gdG8gdGhlIEZvcmVtYW4sIGNvbXBsZXRpbmcgdGhlIGNvbmZp
        ZyBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgd2l0aCByZW1vdGUgbWFuYWdl
        bWVudCBmdW5jdGlvbmFsaXR5LiIsInVybCI6Imh0dHBzOi8vZ2l0aHViLmNv
        bS90aGVmb3JlbWFuL2ZvcmVtYW5fcmVtb3RlX2V4ZWN1dGlvbiIsInZlcnNp
        b24iOiIwLjMuMC4xMiJ9LHsiaWQiOiJmb3JlbWFuX3RoZW1lX3NhdGVsbGl0
        ZSIsIm5hbWUiOiJmb3JlbWFuX3RoZW1lX3NhdGVsbGl0ZSIsImF1dGhvciI6
        IkFsb24gR29sZGJvaW0sIFNoaW1vbiBTdGVpbiIsImRlc2NyaXB0aW9uIjoi
        VGhpcyBpcyBhIHBsdWdpbiB0aGF0IGVuYWJsZXMgYnVpbGRpbmcgYSB0aGVt
        ZSBmb3IgRm9yZW1hbi4iLCJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vYWxv
        bmdvbGRib2ltL2ZvcmVtYW5fdGhlbWVfc2F0ZWxsaXRlIiwidmVyc2lvbiI6
        IjAuMS4zMyJ9LHsiaWQiOiJrYXRlbGxvIiwibmFtZSI6ImthdGVsbG8iLCJh
        dXRob3IiOiJOL0EiLCJkZXNjcmlwdGlvbiI6IkNvbnRlbnQgYW5kIFN1YnNj
        cmlwdGlvbiBNYW5hZ2VtZW50IHBsdWdpbiBmb3IgRm9yZW1hbiIsInVybCI6
        Imh0dHA6Ly93d3cua2F0ZWxsby5vcmciLCJ2ZXJzaW9uIjoiMy4wLjAuODIi
        fSx7ImlkIjoicmVkaGF0X2FjY2VzcyIsIm5hbWUiOiJyZWRoYXRfYWNjZXNz
        IiwiYXV0aG9yIjoiTGluZGFuaSBQaGlyaSIsImRlc2NyaXB0aW9uIjoiVGhp
        cyBwbHVnaW4gYWRkcyBSZWQgSGF0IEFjY2VzcyBrbm93bGVkZ2UgYmFzZSBz
        ZWFyY2gsIGNhc2UgbWFuYWdlbWVudCBhbmQgZGlhZ25vc3RpY3MgdG8gRm9y
        ZW1hbiIsInVybCI6Imh0dHA6Ly93d3cubHBoaXJpLnJlZGhhdC5jb20iLCJ2
        ZXJzaW9uIjoiMS4wLjEzIn1dCn0K
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations?per_page=999999&search=name=%22Test%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:23 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 422cb238-46c2-49d2-8bdb-4cfff83026e9
      X-Runtime:
      - '0.036717'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=b0f89652c87ccf6322e60ea7fd53c453; path=/; secure; HttpOnly
      Etag:
      - '"679e32140c09b4b1376234e361ab87b0-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '388'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Test Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"testcorp","created_at":"2016-12-13 10:58:26 UTC","updated_at":"2016-12-13 14:47:54 UTC","id":8,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/organizations/8/hosts?per_page=1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:23 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 38eab7a3-c5bf-41a6-b932-0578013b222d
      X-Runtime:
      - '0.129062'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=8355c8adc689a68e6b0f0ab8714acdc2; path=/; secure; HttpOnly
      Etag:
      - '"0f540321225c4933feb172b951b61400-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '2293'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 1,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13 11:01:00 UTC","updated_at":"2016-12-13 11:49:06 UTC","last_compile":"2016-12-13 11:01:02 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13 11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 11:01:01 UTC"},"content_host_id":5}]
        }
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/organizations/8/hosts?page=1&per_page=20
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:23 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a9b5a235-cc23-480a-853a-0eff28044917
      X-Runtime:
      - '0.158959'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=94fd65d21d5c732f079050cd39b497ba; path=/; secure; HttpOnly
      Etag:
      - '"0093e4891c5402618c30013556e3debc-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '4426'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 2,
          "subtotal": 2,
          "page": 1,
          "per_page": 20,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13 11:01:00 UTC","updated_at":"2016-12-13 11:49:06 UTC","last_compile":"2016-12-13 11:01:02 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13 11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 11:01:01 UTC"},"content_host_id":5},{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-13 10:58:55 UTC","updated_at":"2016-12-13 11:48:59 UTC","last_compile":"2016-12-13 10:58:57 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could not calculate errata status, ensure host is registered and katello-agent is installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":4,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","content_view_id":2,"content_view_name":"Default Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0}},"subscription_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","last_checkin":"2016-12-13 10:58:55 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13 10:58:56 UTC"},"content_host_id":4}]
        }
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:24 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a777d841-a0fd-4fbc-b3ea-df9dacc887a8
      X-Runtime:
      - '0.129666'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=1dfb859bcbc7311bcaa0f914672521e5; path=/; secure; HttpOnly
      Etag:
      - '"e887f85e97779657bd7cf336d1f5761c-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3019'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":4,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":5,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:26
        UTC","updated_at":"2016-12-13 10:58:26 UTC","prior":null,"successor":null,"counts":{"content_hosts":2,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":3,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:04 UTC","updated_at":"2016-12-13 10:59:04 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-12-13
        10:59:05 UTC","updated_at":"2016-12-13 10:59:05 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/content_views?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:24 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a639e223-dfc1-418f-b500-faae36dfbdec
      X-Runtime:
      - '0.061547'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=7ffefa71eaa50d476a8a3168a12bfae5; path=/; secure; HttpOnly
      Etag:
      - '"24d3d45f9a0cda80146879509dfd209e-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1804'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":2,"subtotal":2,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"composite":false,"repository_ids":[],"component_ids":[],"default":false,"next_version":2,"id":3,"name":"Test
        Puppet Modules","label":"Test_Puppet_Modules","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:58
        UTC","updated_at":"2016-12-13 10:58:59 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":3,"version":"1.0","published":"2016-12-13
        10:58:59 UTC","environment_ids":[2]}],"components":[],"activation_keys":[],"last_published":"2016-12-13
        10:58:59 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}},{"composite":false,"repository_ids":[],"component_ids":[],"default":true,"next_version":1,"id":2,"name":"Default
        Organization View","label":"e1fa1d00-5399-4ce9-9219-1b9433e76baa","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-12-13 10:58:26
        UTC","updated_at":"2016-12-13 10:58:26 UTC","environments":[{"id":2,"name":"Library","label":"Library","permissions":{"readable":true}}],"repositories":[],"puppet_modules":[],"versions":[{"id":2,"version":"1.0","published":"2016-12-13
        10:58:26 UTC","environment_ids":[2]}],"components":[],"activation_keys":[{"id":2,"name":"testakey"},{"id":3,"name":"testakeyitemized"}],"last_published":"2016-12-13
        10:58:26 UTC","permissions":{"view_content_views":true,"edit_content_views":true,"destroy_content_views":true,"publish_content_views":true,"promote_or_remove_content_views":true}}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:21 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:24 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5263ecc3-e8e5-475e-99d7-74e254041205
      X-Runtime:
      - '0.604199'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=967ce503b768c3af4061d9d959b812d9; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"6450bb45f7cdc8ae0fdc6a0fb74f6bd7-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3820'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-13
        10:58:55 UTC","updated_at":"2016-12-13 11:48:59 UTC","last_compile":"2016-12-13
        10:58:57 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testvm","id":4,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","last_checkin":"2016-12-13
        10:58:55 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        10:58:56 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7a08106d8","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:00:53.505+0000","updated":"2016-12-13T11:00:53.505+0000"}]},"content_host_id":4,"parameters":[],"interfaces":[{"id":4,"name":"testvm","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"system::certificate_version":"3.2","network::hostname":"testvm","cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"4","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testvm","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-13T10:58:57+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:22 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:24 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 53e1a2db-1fcd-405a-8859-dc4007daf680
      X-Runtime:
      - '0.239072'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=a5203f8e74068e0338cdc686f8f4c497; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:22 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:25 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9d591a22-b747-498e-8024-4788f0d34398
      X-Runtime:
      - '1.132652'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=c486207391b5335f67f019d527788e03; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:23 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:26 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1c5dfcb8-097a-45c6-aa79-1af4d986d989
      X-Runtime:
      - '0.640460'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=af47d6386c6086e253bed0df8ed2f413; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:24 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:26 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 24f53ce7-470e-49fa-82bf-1779451f3a50
      X-Runtime:
      - '0.975581'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=8fb380508010eab9378e932bdd92cc1a; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:25 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:27 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 85d1a239-13a1-4e0c-bfce-3663217ffbed
      X-Runtime:
      - '0.606735'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=80e60bbaf807b47d6bd0865651aacb1e; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"213863c8545b4acac07c3898c6249b59-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3814'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testvm","image_id":null,"image_name":null,"created_at":"2016-12-13
        10:58:55 UTC","updated_at":"2016-12-13 14:48:27 UTC","last_compile":"2016-12-13
        10:58:57 UTC","global_status":2,"global_status_label":"Error","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":2,"subscription_status_label":"Unentitled","name":"testvm","id":4,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":4,"uuid":"05f67758-243c-440b-9349-776aafb933e1","last_checkin":"2016-12-13
        10:58:55 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        10:58:56 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7a08106d8","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:00:53.505+0000","updated":"2016-12-13T11:00:53.505+0000"}]},"content_host_id":4,"parameters":[],"interfaces":[{"id":4,"name":"testvm","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"system::certificate_version":"3.2","network::hostname":"testvm","cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"4","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testvm","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-13T10:58:57+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:26 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:28 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1b8e1dfa-54c0-40f3-b613-c004d37c78fb
      X-Runtime:
      - '0.260198'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=a9c812854ded3f812a77769115d36186; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:26 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:28 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - fd3688c7-cf91-459a-8e81-047befd46d49
      X-Runtime:
      - '0.933296'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=868e90253c53c6ede4b6ba5991ec0f11; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:27 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:29 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 65364bb8-d55c-4081-b72b-584418f049c1
      X-Runtime:
      - '0.543081'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=c5e4afe1862db63ac9927a062f2fbfad; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:27 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/4/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:30 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e34a834a-71d9-4b5e-9d3a-e54adde4b0ea
      X-Runtime:
      - '0.942634'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=fc320fb6c34979331762e574900fe00a; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:28 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:31 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a12b8bc5-db54-4234-8b53-a3dfb5f78c2e
      X-Runtime:
      - '0.603570'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=60d49e479e4f7719fba8344ce8c6fe5f; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"ad5c0377fc0b2c053648e4100b6ef71c-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3850'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13
        11:01:00 UTC","updated_at":"2016-12-13 11:49:06 UTC","last_compile":"2016-12-13
        11:01:02 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13
        11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        11:01:01 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7ccd506f2","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:01:04.853+0000","updated":"2016-12-13T11:01:04.853+0000"}]},"content_host_id":5,"parameters":[],"interfaces":[{"id":5,"name":"testphysical","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"8","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testphysical","system::certificate_version":"3.2","network::hostname":"testphysical","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-13T11:01:02+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:29 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:31 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 64c6f83f-a604-40a7-9c33-f0dba18a9783
      X-Runtime:
      - '0.231650'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=aaa1a463a78f62cddbb57259166a7d1f; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:29 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:32 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9f01f7f2-54d9-4a30-a209-dec776146461
      X-Runtime:
      - '0.965103'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=968e0e67f1d89f5d2b3f8845ac58da60; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:30 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:33 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 055dc747-c5b1-4b46-9a3e-cfe34938211c
      X-Runtime:
      - '0.514123'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=4ec6f0aa2c28e0fb3c76a6b9b273a61c; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:31 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:33 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c13be249-d2fe-439e-9bc3-e9d03913eadb
      X-Runtime:
      - '0.989503'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=c173b5a1c686f5f13f6d1371ad5be60f; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:32 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5
    body:
      encoding: UTF-8
      string: '{"host":{"content_facet_attributes":{"lifecycle_environment_id":2,"content_view_id":2},"subscription_facet_attributes":{"installed_products":[{"product_id":"69","product_name":"Red
        Hat Enterprise Linux Server","arch":"x86_64","version":"7Server"}],"service_level":null}}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '271'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:34 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a4bddce6-8806-4536-8d98-4803d5f09ca6
      X-Runtime:
      - '0.674309'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=eaf7397d5a536ac7bf92d3534b5b9bf8; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"ad5c0377fc0b2c053648e4100b6ef71c-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3850'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"ip":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":null,"domain_name":null,"architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":null,"owner_id":3,"owner_type":"User","enabled":true,"puppet_ca_proxy_id":null,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","puppet_proxy_id":null,"certname":"testphysical","image_id":null,"image_name":null,"created_at":"2016-12-13
        11:01:00 UTC","updated_at":"2016-12-13 11:49:06 UTC","last_compile":"2016-12-13
        11:01:02 UTC","global_status":0,"global_status_label":"Warning","organization_id":8,"organization_name":"Test
        Corporation","location_id":2,"location_name":"Default Location","puppet_status":0,"model_name":null,"errata_status":0,"errata_status_label":"Could
        not calculate errata status, ensure host is registered and katello-agent is
        installed","subscription_status":0,"subscription_status_label":"Fully entitled","name":"testphysical","id":5,"hostgroup_name":null,"hostgroup_title":null,"content_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","content_view_id":2,"content_view_name":"Default
        Organization View","lifecycle_environment_id":2,"lifecycle_environment_name":"Library","content_view":{"id":2,"name":"Default
        Organization View"},"lifecycle_environment":{"id":2,"name":"Library"},"errata_counts":{"security":0,"bugfix":0,"enhancement":0,"total":0},"content_view_version":"1.0","content_view_version_id":2,"content_view_default?":true,"lifecycle_environment_library?":true,"katello_agent_installed":false},"subscription_facet_attributes":{"id":5,"uuid":"a39750b1-252f-41d2-8f8d-646ecd711e02","last_checkin":"2016-12-13
        11:01:00 UTC","service_level":null,"release_version":null,"autoheal":true,"registered_at":"2016-12-13
        11:01:01 UTC","activation_keys":[],"compliance_reasons":[],"virtual_host":null,"virtual_guests":[],"installed_products":[{"id":"4028f99158f378890158f7d7ccd506f2","productId":"69","productName":"Red
        Hat Enterprise Linux Server","version":"7Server","arch":"x86_64","status":"green","startDate":"2016-06-20T04:00:00.000+0000","endDate":"2017-06-20T03:59:59.000+0000","created":"2016-12-13T11:01:04.853+0000","updated":"2016-12-13T11:01:04.853+0000"}]},"content_host_id":5,"parameters":[],"interfaces":[{"id":5,"name":"testphysical","ip":null,"mac":null,"identifier":null,"primary":true,"provision":true,"type":"interface"}],"puppetclasses":[],"config_groups":[],"all_parameters":[],"all_puppetclasses":[],"facts":{"cpu::core(s)_per_socket":"1","cpu::cpu_socket(s)":"8","memory::memtotal":"4GB","uname::machine":"x86_64","distribution::name":"RHEL","distribution::version":"7Server","virt::is_guest":"true","virt::uuid":"Test
        Corporation/testphysical","system::certificate_version":"3.2","network::hostname":"testphysical","cpu::cpu(s)":"1","system":null,"network":null,"cpu":null,"memory":null,"uname":null,"distribution":null,"virt":null,"_timestamp":"2016-12-13T11:01:02+00:00"},"host_collections":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot":true,"puppetrun_hosts":true,"view_discovered_hosts":true,"submit_discovered_hosts":true,"auto_provision_discovered_hosts":true,"provision_discovered_hosts":true,"edit_discovered_hosts":true,"destroy_discovered_hosts":true}}'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:33 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4abce132-8fc6-4574-a1ac-57ca5c086148
      X-Runtime:
      - '0.260778'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=e26afe982c02c09f47172d4b530b3e2d; path=/; secure; HttpOnly
      Etag:
      - '"08063d363b63add4fe3c07b6a2f5ee13-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":198,"quantity":200,"consumed":2,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:33 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/remove_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":1}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:35 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 253b250d-9421-4afb-b7c6-b20deb35824b
      X-Runtime:
      - '1.038903'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=dc7510f4bdb9a7f9844cb942da72e5f0; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"a6dab0ae899304dddfc4c9c0d099f6ec-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '770'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":1,"subtotal":1,"page":1,"per_page":1,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"quantity_consumed":1,"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:34 GMT
- request:
    method: get
    uri: https://admin:changeme@satlap.example.com/katello/api/organizations/8/subscriptions?full_results=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:36 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2e9789d0-5d69-4eb4-b2db-c18159b0a683
      X-Runtime:
      - '0.578956'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=e43e468bb05ac9ea9ab31cdb984276c2; path=/; secure; HttpOnly
      Etag:
      - '"5a2d8f497508d7cba195e796f291b0d8-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '1972'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"organization":{},"total":3,"subtotal":3,"page":1,"per_page":20,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"id":33,"cp_id":"4028f99158f378890158f7d684cc04a0","subscription_id":19,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999110,"support_level":"Standard","product_id":"RH00002","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Standard","unmapped_guest":false,"virt_only":false},{"id":35,"cp_id":"4028f99158f378890158f7d6851404f2","subscription_id":20,"name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":1,"quantity":1,"consumed":0,"account_number":5700573,"contract_number":10999116,"support_level":"Premium","product_id":"RH00001","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux for Virtual Datacenters, Premium","unmapped_guest":false,"virt_only":false},{"id":37,"cp_id":"4028f99158f378890158f7d685490550","subscription_id":21,"name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","start_date":"2016-06-20T04:00:00.000+0000","end_date":"2017-06-20T03:59:59.000+0000","available":199,"quantity":200,"consumed":1,"account_number":5700573,"contract_number":10999113,"support_level":"Standard","product_id":"RH00004","sockets":2,"cores":null,"ram":null,"instance_multiplier":1,"stacking_id":0,"multi_entitlement":true,"type":"NORMAL","product_name":"Red
        Hat Enterprise Linux Server, Standard (Physical or Virtual Nodes)","unmapped_guest":false,"virt_only":false}]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:34 GMT
- request:
    method: put
    uri: https://admin:changeme@satlap.example.com/api/hosts/5/subscriptions/add_subscriptions
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"id":37,"quantity":0}]}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.1p112
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '42'
      Host:
      - satlap.example.com
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Dec 2016 14:48:37 GMT
      Server:
      - Apache/2.4.6 (Red Hat Enterprise Linux)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.11.0.54
      Foreman-Api-Version:
      - '2'
      Apipie-Checksum:
      - e1df2e8d43e22495b02a53b48e3b5298
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 7e122fc9-0482-4b20-8d6a-cffa0a75a2d7
      X-Runtime:
      - '0.892579'
      X-Powered-By:
      - Phusion Passenger 4.0.18
      Set-Cookie:
      - _session_id=b7b69504b1fc1080909c3061d6ba3a4f; path=/; secure; HttpOnly
      - request_method=PUT; path=/
      Etag:
      - '"28f980ca6d7d7d8bdbe90747a65a208f-gzip"'
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      Content-Length:
      - '119'
      Content-Type:
      - application/json; charset=utf-8
    body:
      encoding: ASCII-8BIT
      string: '{"total":0,"subtotal":0,"page":1,"per_page":0,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'
    http_version: 
  recorded_at: Tue, 13 Dec 2016 14:48:35 GMT
recorded_with: VCR 3.0.3
