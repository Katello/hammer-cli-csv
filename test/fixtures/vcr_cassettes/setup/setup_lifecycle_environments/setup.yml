---
http_interactions:
- request:
    method: post
    uri: http://admin:changeme@katello:3000/katello/api/organizations/4/environments
    body:
      encoding: UTF-8
      string: '{"name":"TestEnv","prior_id":7,"description":""}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '48'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"42690b55414b21cab256825867b45a92"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=6e8f8e82c4d154c067ac0c29155e835b; path=/; HttpOnly
      - request_method=POST; path=/
      X-Request-Id:
      - 844ae8ee-e19a-4fa6-ba5b-daff7a369942
      X-Runtime:
      - '0.622294'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":8,"name":"TestEnv","label":"TestEnv","description":"","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-04 13:01:48 UTC","updated_at":"2016-08-04 13:01:48 UTC","prior":{"name":"Library","id":7},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Thu, 04 Aug 2016 13:01:14 GMT
- request:
    method: put
    uri: http://admin:changeme@katello:3000/katello/api/environments/8
    body:
      encoding: UTF-8
      string: '{"description":""}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '18'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"0e02f8beb31176ddcda081f9a254c23f"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=59f5dcd6ad748546bfd01ce558458e34; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 2e190bfd-388d-4fb6-adb9-5d240cdd31c8
      X-Runtime:
      - '0.535732'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":8,"name":"TestEnv","label":"TestEnv","description":"","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-04 13:01:48 UTC","updated_at":"2016-08-04 13:01:48 UTC","prior":{"name":"Library","id":7},"successor":null,"counts":{"content_hosts":0,"content_views":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Thu, 04 Aug 2016 16:46:50 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations/4/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"1d6d0a90056c90ea9a3cb6391d18c584"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=f240333baa736913234e4d03e838d360; path=/; HttpOnly
      X-Request-Id:
      - 30aef9b4-4a2b-4009-a92e-0264c81d4935
      X-Runtime:
      - '2.536967'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {"total":6,"subtotal":6,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":12,"name":"TestEnv","label":"TestEnv","description":"","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 15:07:36 UTC","updated_at":"2016-08-16 15:07:36 UTC","prior":{"name":"Library","id":7},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":9,"name":"Test","label":"Test","description":"Test, manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:15 UTC","updated_at":"2016-08-16 12:47:15 UTC","prior":{"name":"Development","id":8},"successor":{"name":"Production","id":10},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":10,"name":"Production","label":"Production","description":"Production, manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:17 UTC","updated_at":"2016-08-16 12:47:17 UTC","prior":{"name":"Test","id":9},"successor":{"name":"Archive","id":11},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":7,"name":"Library","label":"Library","description":null,"organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:46:28 UTC","updated_at":"2016-08-16 12:46:28 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":8,"name":"Development","label":"Development","description":"Development, automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:11 UTC","updated_at":"2016-08-16 12:47:11 UTC","prior":{"name":"Library","id":7},"successor":{"name":"Test","id":9},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":11,"name":"Archive","label":"Archive","description":"Archive, no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:21 UTC","updated_at":"2016-08-16 12:47:21 UTC","prior":{"name":"Production","id":10},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:03:43 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/api/status
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - '*/*'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"f536fd8685b76bb26a943d472593c93e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=e4ddaa3ffcc02dd15f5227e45a5ed0b9; path=/; HttpOnly
      X-Request-Id:
      - edd02b20-8783-43ce-a57a-7a85c326e752
      X-Runtime:
      - '1.213048'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"result":"ok","status":200,"version":"1.13.0-develop","api_version":2}'
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:05 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/api/v2/plugins
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - '*/*'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"dc4a8351c6668134273bfe99879f93b1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=312796b3f23071ab5c6636c0fa3c5df7; path=/; HttpOnly
      X-Request-Id:
      - 70c0ad55-8d17-49a5-be0c-0ca9f4ff3506
      X-Runtime:
      - '0.296079'
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJ0b3RhbCI6IDQsCiAgInN1YnRvdGFsIjogNCwKICAicGFnZSI6IDEs
        CiAgInBlcl9wYWdlIjogMjAsCiAgInNlYXJjaCI6IG51bGwsCiAgInNvcnQi
        OiB7CiAgICAiYnkiOiBudWxsLAogICAgIm9yZGVyIjogbnVsbAogIH0sCiAg
        InJlc3VsdHMiOiBbeyJpZCI6ImZvcmVtYW4tdGFza3MiLCJuYW1lIjoiZm9y
        ZW1hbi10YXNrcyIsImF1dGhvciI6Ikl2YW4gTmXEjWFzIiwiZGVzY3JpcHRp
        b24iOiJUaGUgZ29hbCBvZiB0aGlzIHBsdWdpbiBpcyB0byB1bmlmeSB0aGUg
        d2F5IG9mIHNob3dpbmcgdGFzayBzdGF0dXNlcyBhY3Jvc3MgdGhlIEZvcmVt
        YW4gaW5zdGFuY2UuXG5JdCBkZWZpbmVzIFRhc2sgbW9kZWwgZm9yIGtlZXBp
        bmcgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0YXNrcyBhbmQgTG9jayBm
        b3IgYXNzaWduaW5nIHRoZSB0YXNrc1xudG8gcmVzb3VyY2VzLiBUaGUgbG9j
        a2luZyBhbGxvd3MgZGVhbGluZyB3aXRoIHByZXZlbnRpbmcgbXVsdGlwbGUg
        Y29sbGlkaW5nIHRhc2tzIHRvIGJlIHJ1biBvbiB0aGVcbnNhbWUgcmVzb3Vy
        Y2UuIEl0IGFsc28gb3B0aW9uYWxseSBwcm92aWRlcyBEeW5mbG93IGluZnJh
        c3RydWN0dXJlIGZvciB1c2luZyBpdCBmb3IgbWFuYWdpbmcgdGhlIHRhc2tz
        LlxuIiwidXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL3RoZWZvcmVtYW4vZm9y
        ZW1hbi10YXNrcyIsInZlcnNpb24iOiIwLjcuMjAifSx7ImlkIjoiZm9yZW1h
        bl9kb2NrZXIiLCJuYW1lIjoiZm9yZW1hbl9kb2NrZXIiLCJhdXRob3IiOiJE
        YW5pZWwgTG9iYXRvLCBBbW9zIEJlbmFyaSIsImRlc2NyaXB0aW9uIjoiUHJv
        dmlzaW9uIGFuZCBtYW5hZ2UgRG9ja2VyIGNvbnRhaW5lcnMgYW5kIGltYWdl
        cyBmcm9tIEZvcmVtYW4uIiwidXJsIjoiaHR0cDovL2dpdGh1Yi5jb20vdGhl
        Zm9yZW1hbi9mb3JlbWFuLWRvY2tlciIsInZlcnNpb24iOiIzLjAuMCJ9LHsi
        aWQiOiJmb3JlbWFuX3JlbW90ZV9leGVjdXRpb24iLCJuYW1lIjoiZm9yZW1h
        bl9yZW1vdGVfZXhlY3V0aW9uIiwiYXV0aG9yIjoiRm9yZW1hbiBSZW1vdGUg
        RXhlY3V0aW9uIHRlYW0iLCJkZXNjcmlwdGlvbiI6IkEgcGx1Z2luIGJyaW5n
        aW5nIHJlbW90ZSBleGVjdXRpb24gdG8gdGhlIEZvcmVtYW4sIGNvbXBsZXRp
        bmcgdGhlIGNvbmZpZyBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgd2l0aCBy
        ZW1vdGUgbWFuYWdlbWVudCBmdW5jdGlvbmFsaXR5LiIsInVybCI6Imh0dHBz
        Oi8vZ2l0aHViLmNvbS90aGVmb3JlbWFuL2ZvcmVtYW5fcmVtb3RlX2V4ZWN1
        dGlvbiIsInZlcnNpb24iOiIxLjAuMCJ9LHsiaWQiOiJrYXRlbGxvIiwibmFt
        ZSI6ImthdGVsbG8iLCJhdXRob3IiOiJOL0EiLCJkZXNjcmlwdGlvbiI6IkNv
        bnRlbnQgYW5kIFN1YnNjcmlwdGlvbiBNYW5hZ2VtZW50IHBsdWdpbiBmb3Ig
        Rm9yZW1hbiIsInVybCI6Imh0dHA6Ly93d3cua2F0ZWxsby5vcmciLCJ2ZXJz
        aW9uIjoiMy4yLjAifV0KfQo=
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:06 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"4334603e104dcf3bf9d4222dd9a77b6a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=3c84de66357aba01f7bad6d6c63120df; path=/; HttpOnly
      X-Request-Id:
      - 577e32a9-1fbf-446e-8ab3-6c1eb4288bc4
      X-Runtime:
      - '0.354620'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 3,
          "page": 1,
          "per_page": 999999,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"Default_Organization","created_at":"2016-08-10 12:38:23 UTC","updated_at":"2016-08-10 12:38:23 UTC","id":1,"name":"Default Organization","title":"Default Organization","description":null},{"label":"examplecorp","created_at":"2016-08-10 13:40:47 UTC","updated_at":"2016-08-10 13:40:47 UTC","id":3,"name":"Example Corporation","title":"Example Corporation","description":"The number one example company in the world!"},{"label":"testcorp","created_at":"2016-08-16 12:46:24 UTC","updated_at":"2016-08-16 12:46:24 UTC","id":4,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:06 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations?per_page=999999&search=name=%22Default%20Organization%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"785d8517cac73defba8a1bb58c1321c3"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=6feef9c1671e90f9ba53662edf8ae133; path=/; HttpOnly
      X-Request-Id:
      - 8f38bba6-0b52-4f56-80ac-880f168eb15f
      X-Runtime:
      - '1.280627'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Default Organization\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"Default_Organization","created_at":"2016-08-10 12:38:23 UTC","updated_at":"2016-08-10 12:38:23 UTC","id":1,"name":"Default Organization","title":"Default Organization","description":null}]
        }
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:07 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations/1/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"c468522552c316b3731fc20f45b2deb5"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=10ef0cc39385066422b8656639a9a6b2; path=/; HttpOnly
      X-Request-Id:
      - 4af58bab-86ab-4a52-b70e-4a1e4503bad3
      X-Runtime:
      - '0.610936'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {"total":1,"subtotal":1,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":true,"id":1,"name":"Library","label":"Library","description":null,"organization":{"name":"Default Organization","label":"Default_Organization","id":1},"created_at":"2016-08-10 12:38:26 UTC","updated_at":"2016-08-10 12:38:26 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":0,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":3,"docker_repositories":0,"ostree_repositories":0,"products":3},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}]}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:08 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations?per_page=999999&search=name=%22Example%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"06fddfee0dc212ed75a51f7ece06f727"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=35be6aea9338b9be37523793b52f0dad; path=/; HttpOnly
      X-Request-Id:
      - 5290f8c5-f332-4fdb-b585-03543060a679
      X-Runtime:
      - '0.226320'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Example Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"examplecorp","created_at":"2016-08-10 13:40:47 UTC","updated_at":"2016-08-10 13:40:47 UTC","id":3,"name":"Example Corporation","title":"Example Corporation","description":"The number one example company in the world!"}]
        }
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:08 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations/3/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"08a2cb84779c8c6beaa1f92e76fc93c7"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=9bee2d2ad8762ef2dba2b63c4262c74a; path=/; HttpOnly
      X-Request-Id:
      - 43afd356-b8b7-4b04-b0d0-4f8195cd59af
      X-Runtime:
      - '3.484721'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":4,"name":"Test","label":"Test","description":"Test, manual promotions from Development","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-08-10 21:02:34 UTC","updated_at":"2016-08-10 21:02:34 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":5,"name":"Production","label":"Production","description":"Production, manual promotions from Test","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-08-10 21:02:36 UTC","updated_at":"2016-08-10 21:02:36 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-08-10 13:40:49 UTC","updated_at":"2016-08-10 13:40:49 UTC","prior":null,"successor":null,"counts":{"content_hosts":1,"content_views":1,"packages":20594,"puppet_modules":0,"errata":{"security":565,"bugfix":1344,"enhancement":260,"total":2169},"yum_repositories":3,"docker_repositories":2,"ostree_repositories":0,"products":4},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":3,"name":"Development","label":"Development","description":"Development, automated promotes from Library","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-08-10 21:02:31 UTC","updated_at":"2016-08-10 21:02:31 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive, no longer in Production","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-08-10 21:02:40 UTC","updated_at":"2016-08-10 21:02:40 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:12 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations?per_page=999999&search=name=%22Test%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"dec57c653102523d2cd2de13cb7fee01"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=72cb96f8b3d66bb4f36a840c42616442; path=/; HttpOnly
      X-Request-Id:
      - a72fa5db-1cbd-4b7a-a9a0-f5646b00db60
      X-Runtime:
      - '0.305727'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Test Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"testcorp","created_at":"2016-08-16 12:46:24 UTC","updated_at":"2016-08-16 12:46:24 UTC","id":4,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:12 GMT
- request:
    method: get
    uri: http://admin:changeme@katello:3000/katello/api/organizations/4/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"1d6d0a90056c90ea9a3cb6391d18c584"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=d47ee3d90398d1b70056c656a3f12ddc; path=/; HttpOnly
      X-Request-Id:
      - db6e10a8-41b9-42ed-9d31-1fc7d15a6e94
      X-Runtime:
      - '3.703343'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {"total":6,"subtotal":6,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":12,"name":"TestEnv","label":"TestEnv","description":"","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 15:07:36 UTC","updated_at":"2016-08-16 15:07:36 UTC","prior":{"name":"Library","id":7},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":9,"name":"Test","label":"Test","description":"Test, manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:15 UTC","updated_at":"2016-08-16 12:47:15 UTC","prior":{"name":"Development","id":8},"successor":{"name":"Production","id":10},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":10,"name":"Production","label":"Production","description":"Production, manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:17 UTC","updated_at":"2016-08-16 12:47:17 UTC","prior":{"name":"Test","id":9},"successor":{"name":"Archive","id":11},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":7,"name":"Library","label":"Library","description":null,"organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:46:28 UTC","updated_at":"2016-08-16 12:46:28 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":8,"name":"Development","label":"Development","description":"Development, automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:11 UTC","updated_at":"2016-08-16 12:47:11 UTC","prior":{"name":"Library","id":7},"successor":{"name":"Test","id":9},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":11,"name":"Archive","label":"Archive","description":"Archive, no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:21 UTC","updated_at":"2016-08-16 12:47:21 UTC","prior":{"name":"Production","id":10},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:16 GMT
- request:
    method: put
    uri: http://admin:changeme@katello:3000/katello/api/environments/8
    body:
      encoding: UTF-8
      string: '{"description":"Development, automated promotes from Library"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '62'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"cfe9d7e4a1c3c4674e86795714a4f820"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=a327b0614afe20cf654f972ad9b094be; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - c79705c2-2a8a-425e-9f86-7c457416f40e
      X-Runtime:
      - '1.603860'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":8,"name":"Development","label":"Development","description":"Development, automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:11 UTC","updated_at":"2016-08-16 12:47:11 UTC","prior":{"name":"Library","id":7},"successor":{"name":"Test","id":9},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:17 GMT
- request:
    method: put
    uri: http://admin:changeme@katello:3000/katello/api/environments/9
    body:
      encoding: UTF-8
      string: '{"description":"Test, manual promotions from Development"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '58'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"2d17bf62cf017012131594dfdee29719"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=ceb88b14c85bf5deec8c6b0ab321ff44; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - e9534214-5437-469a-8130-cbf4514689d3
      X-Runtime:
      - '0.754447'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":9,"name":"Test","label":"Test","description":"Test, manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:15 UTC","updated_at":"2016-08-16 12:47:15 UTC","prior":{"name":"Development","id":8},"successor":{"name":"Production","id":10},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:18 GMT
- request:
    method: put
    uri: http://admin:changeme@katello:3000/katello/api/environments/10
    body:
      encoding: UTF-8
      string: '{"description":"Production, manual promotions from Test"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '57'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"b7a35aa1d6a7a3c7794143c779da1b95"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=1d3b5c4268d24e593c56654a936310c7; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 00b03630-d075-47c9-8f2c-f2edd7b97b56
      X-Runtime:
      - '1.540778'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":10,"name":"Production","label":"Production","description":"Production, manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:17 UTC","updated_at":"2016-08-16 12:47:17 UTC","prior":{"name":"Test","id":9},"successor":{"name":"Archive","id":11},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:20 GMT
- request:
    method: put
    uri: http://admin:changeme@katello:3000/katello/api/environments/11
    body:
      encoding: UTF-8
      string: '{"description":"Archive, no longer in Production"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '50'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.13.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - e98945ba1db6bdbb4c25ce4988912344
      Etag:
      - W/"04d514d27629d1c8464398597cf5a28c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=4fe18b8987be5796439282ff27d6d2d3; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 84dc3348-0e31-4a36-8462-91deec817206
      X-Runtime:
      - '0.622107'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |2
          {"library":false,"id":11,"name":"Archive","label":"Archive","description":"Archive, no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":4},"created_at":"2016-08-16 12:47:21 UTC","updated_at":"2016-08-16 12:47:21 UTC","prior":{"name":"Production","id":10},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}
    http_version: 
  recorded_at: Tue, 16 Aug 2016 19:07:20 GMT
recorded_with: VCR 3.0.3
