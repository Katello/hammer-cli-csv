---
http_interactions:
- request:
    method: get
    uri: https://admin:changeme@katello.example.com:50191/katello/api/organizations?per_page=999999&search=name=%22Example%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:45 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"438403e627981e853bc15d2e5d08c696-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - cb381b9c-a5ce-4e7f-8a95-60e68c709d95
      X-Runtime:
      - '0.223449'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '409'
      Set-Cookie:
      - _session_id=56296a09ca52e4bfff2b0fc5a42f501e; path=/; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Example Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"examplecorp","created_at":"2016-09-02 15:00:24 UTC","updated_at":"2016-09-02 15:00:24 UTC","id":3,"name":"Example Corporation","title":"Example Corporation","description":"The number one example company in the world!"}]
        }
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:46 GMT
- request:
    method: get
    uri: https://admin:changeme@katello.example.com:50191/katello/api/organizations/3/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:45 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"0470c3e061ea7c4416c3c7ffd8263e80-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - bd703f33-37ec-4ba1-a162-3e22928e45a4
      X-Runtime:
      - '1.884815'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3238'
      Set-Cookie:
      - _session_id=179f745211e7e8f056a784ec68433617; path=/; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":4,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-09-02
        18:20:05 UTC","updated_at":"2016-09-02 18:20:05 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":5,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-09-02
        18:20:08 UTC","updated_at":"2016-09-02 18:20:08 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Example
        Corporation","label":"examplecorp","id":3},"created_at":"2016-09-02 15:00:26
        UTC","updated_at":"2016-09-02 15:00:26 UTC","prior":null,"successor":null,"counts":{"content_hosts":9,"content_views":1,"packages":595,"puppet_modules":0,"errata":{"security":5,"bugfix":18,"enhancement":5,"total":28},"yum_repositories":1,"docker_repositories":0,"ostree_repositories":1,"products":2},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":3,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-09-02
        18:20:03 UTC","updated_at":"2016-09-02 18:20:03 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Example Corporation","label":"examplecorp","id":3},"created_at":"2016-09-02
        18:20:11 UTC","updated_at":"2016-09-02 18:20:11 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:48 GMT
- request:
    method: get
    uri: https://admin:changeme@katello.example.com:50191/katello/api/organizations/9/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:47 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"71a417dc2f3dfb1e7102347ec69b1aea-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - a94dfabb-fcb5-45db-aa40-039213bdc461
      X-Runtime:
      - '1.929619'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '3209'
      Set-Cookie:
      - _session_id=c7e37f3f2905b4b0d63b5a0f2d19c723; path=/; HttpOnly
    body:
      encoding: ASCII-8BIT
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":9,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:52 UTC","updated_at":"2016-09-08 17:34:52 UTC","prior":{"name":"Development","id":8},"successor":{"name":"Production","id":10},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":10,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:56 UTC","updated_at":"2016-09-08 17:34:56 UTC","prior":{"name":"Test","id":9},"successor":{"name":"Archive","id":11},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":7,"name":"Library","label":"Library","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":9},"created_at":"2016-09-07 01:39:05
        UTC","updated_at":"2016-09-07 01:39:05 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":2,"docker_repositories":0,"ostree_repositories":0,"products":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":8,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:50 UTC","updated_at":"2016-09-08 17:34:50 UTC","prior":{"name":"Library","id":7},"successor":{"name":"Test","id":9},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":11,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:58 UTC","updated_at":"2016-09-08 17:34:58 UTC","prior":{"name":"Production","id":10},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:50 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50191/katello/api/environments/8
    body:
      encoding: UTF-8
      string: '{"description":"Development, automated promotes from Library"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Content-Length:
      - '62'
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:49 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"fee31523550c7fe7bd8a6a3c5f49e232-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b2cb02ec-61dc-43e9-9f57-4b9fa3930cf3
      X-Runtime:
      - '0.450480'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '611'
      Set-Cookie:
      - _session_id=b7b6670b9085da22e41ca0ae37e034c8; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":8,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:50 UTC","updated_at":"2016-09-08 17:34:50 UTC","prior":{"name":"Library","id":7},"successor":{"name":"Test","id":9},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:50 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50191/katello/api/environments/9
    body:
      encoding: UTF-8
      string: '{"description":"Test, manual promotions from Development"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Content-Length:
      - '58'
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:50 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"70f62787daba44dba5dce4419576f12c-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2dc47b8b-5ca8-4e1d-b5a4-25363e730fe2
      X-Runtime:
      - '1.409081'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '604'
      Set-Cookie:
      - _session_id=e0ea3fa460b80c7cb5068e4a4249ce84; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":9,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:52 UTC","updated_at":"2016-09-08 17:34:52 UTC","prior":{"name":"Development","id":8},"successor":{"name":"Production","id":10},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:52 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50191/katello/api/environments/10
    body:
      encoding: UTF-8
      string: '{"description":"Production, manual promotions from Test"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Content-Length:
      - '57'
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:51 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"973776d0a4e1867f88a0d11870488396-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c8a3c490-c18e-4895-8615-2bbb11db2e1a
      X-Runtime:
      - '0.390505'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '606'
      Set-Cookie:
      - _session_id=c5709b95972a38bfe9ef73072b452898; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":10,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:56 UTC","updated_at":"2016-09-08 17:34:56 UTC","prior":{"name":"Test","id":9},"successor":{"name":"Archive","id":11},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:52 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50191/katello/api/environments/11
    body:
      encoding: UTF-8
      string: '{"description":"Archive, no longer in Production"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Content-Length:
      - '50'
      Host:
      - katello.example.com:50191
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Sep 2016 15:39:52 GMT
      Server:
      - Apache/2.4.6 (CentOS)
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 9544abef9cf8343005f07ed8c9f1f8e7
      Etag:
      - W/"668972088a90a54823491ee88644a19b-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 1b8acbb8-0fc9-4616-bfff-52287662d9ca
      X-Runtime:
      - '1.410957'
      Via:
      - 1.1 katello.example.com:50191
      Vary:
      - Accept-Encoding
      Content-Length:
      - '577'
      Set-Cookie:
      - _session_id=7073965c1ee5226bc4a95c1a10c4ce50; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":11,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":9},"created_at":"2016-09-08
        17:34:58 UTC","updated_at":"2016-09-08 17:34:58 UTC","prior":{"name":"Production","id":10},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Mon, 12 Sep 2016 15:39:54 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50218/katello/api/environments/3
    body:
      encoding: UTF-8
      string: '{"description":"Development, automated promotes from Library"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '62'
      Host:
      - katello.example.com:50218
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Date:
      - Wed, 12 Oct 2016 14:11:18 GMT
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.4/2015-12-16)
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 68d37bf606b9a03df6e1e749d6054009
      Etag:
      - W/"05cf74abe8fca9ec2464c2bc12587d34-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 635da03b-f082-4922-bf18-e0b48838dab4
      X-Runtime:
      - '0.117025'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Strict-Transport-Security:
      - max-age=631152000; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Via:
      - 1.1 testing.example.com:50218
      Vary:
      - Accept-Encoding
      Content-Length:
      - '611'
      Set-Cookie:
      - _session_id=0e526bd0fd5a28e58047faa076c9ce59; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":3,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-09-30
        15:12:23 UTC","updated_at":"2016-09-30 15:12:23 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Wed, 12 Oct 2016 14:11:18 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50218/katello/api/environments/4
    body:
      encoding: UTF-8
      string: '{"description":"Test, manual promotions from Development"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '58'
      Host:
      - katello.example.com:50218
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Date:
      - Wed, 12 Oct 2016 14:11:19 GMT
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.4/2015-12-16)
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 68d37bf606b9a03df6e1e749d6054009
      Etag:
      - W/"7622bbaab1b2300c1765b7d9ec81a3a5-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 37dd30c9-a3cb-4a12-b410-2672d5c0fe5c
      X-Runtime:
      - '0.111166'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Strict-Transport-Security:
      - max-age=631152000; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Via:
      - 1.1 testing.example.com:50218
      Vary:
      - Accept-Encoding
      Content-Length:
      - '603'
      Set-Cookie:
      - _session_id=7903c53863936a22a89aca3740c0a535; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":4,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-09-30
        15:12:23 UTC","updated_at":"2016-09-30 15:12:23 UTC","prior":{"name":"Development","id":3},"successor":{"name":"Production","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Wed, 12 Oct 2016 14:11:19 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50218/katello/api/environments/5
    body:
      encoding: UTF-8
      string: '{"description":"Production, manual promotions from Test"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '57'
      Host:
      - katello.example.com:50218
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Date:
      - Wed, 12 Oct 2016 14:11:19 GMT
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.4/2015-12-16)
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 68d37bf606b9a03df6e1e749d6054009
      Etag:
      - W/"8feb72703e81937399339e8b84630b86-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 96a164b8-2422-4d0c-9f9b-e7ac9aecbb50
      X-Runtime:
      - '0.123978'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Strict-Transport-Security:
      - max-age=631152000; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Via:
      - 1.1 testing.example.com:50218
      Vary:
      - Accept-Encoding
      Content-Length:
      - '604'
      Set-Cookie:
      - _session_id=f270c2f5a85caa8be90f4778f430ee93; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":5,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-09-30
        15:12:24 UTC","updated_at":"2016-09-30 15:12:24 UTC","prior":{"name":"Test","id":4},"successor":{"name":"Archive","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Wed, 12 Oct 2016 14:11:19 GMT
- request:
    method: put
    uri: https://admin:changeme@katello.example.com:50218/katello/api/environments/6
    body:
      encoding: UTF-8
      string: '{"description":"Archive, no longer in Production"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.1.10p492
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '50'
      Host:
      - katello.example.com:50218
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      Date:
      - Wed, 12 Oct 2016 14:11:19 GMT
      Server:
      - WEBrick/1.3.1 (Ruby/2.2.4/2015-12-16)
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 68d37bf606b9a03df6e1e749d6054009
      Etag:
      - W/"7ece629b002d83b095812b8d19c35549-gzip"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 447125ee-8cb2-402e-8720-1eb1f3c074db
      X-Runtime:
      - '0.122287'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Strict-Transport-Security:
      - max-age=631152000; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Via:
      - 1.1 testing.example.com:50218
      Vary:
      - Accept-Encoding
      Content-Length:
      - '575'
      Set-Cookie:
      - _session_id=4ddda0d3f6067d20beb859c5d0f4485c; path=/; HttpOnly
      - request_method=PUT; path=/
    body:
      encoding: ASCII-8BIT
      string: '  {"library":false,"id":6,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-09-30
        15:12:25 UTC","updated_at":"2016-09-30 15:12:25 UTC","prior":{"name":"Production","id":5},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Wed, 12 Oct 2016 14:11:19 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/api/status
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"1316c9d778b9181476af8a9546423fb1"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=c76786bde53ecadbe86e9eb1995b1e2d; path=/; HttpOnly
      X-Request-Id:
      - bc86bf9c-499b-4c02-9f85-ca89d05de66a
      X-Runtime:
      - '0.105595'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"result":"ok","status":200,"version":"1.14.0-develop","api_version":2}'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:36 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/api/v2/plugins
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"732bd55e4dc33460e7a4d4e0d0d81834"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=a529c9eb4b0747b5fd5dada91ce6521f; path=/; HttpOnly
      X-Request-Id:
      - c9d8afdc-169f-4654-bb30-01adbb44bc83
      X-Runtime:
      - '0.075552'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJ0b3RhbCI6IDMsCiAgInN1YnRvdGFsIjogMywKICAicGFnZSI6IDEs
        CiAgInBlcl9wYWdlIjogMjAsCiAgInNlYXJjaCI6IG51bGwsCiAgInNvcnQi
        OiB7CiAgICAiYnkiOiBudWxsLAogICAgIm9yZGVyIjogbnVsbAogIH0sCiAg
        InJlc3VsdHMiOiBbeyJpZCI6ImZvcmVtYW4tdGFza3MiLCJuYW1lIjoiZm9y
        ZW1hbi10YXNrcyIsImF1dGhvciI6Ikl2YW4gTmXEjWFzIiwiZGVzY3JpcHRp
        b24iOiJUaGUgZ29hbCBvZiB0aGlzIHBsdWdpbiBpcyB0byB1bmlmeSB0aGUg
        d2F5IG9mIHNob3dpbmcgdGFzayBzdGF0dXNlcyBhY3Jvc3MgdGhlIEZvcmVt
        YW4gaW5zdGFuY2UuXG5JdCBkZWZpbmVzIFRhc2sgbW9kZWwgZm9yIGtlZXBp
        bmcgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0YXNrcyBhbmQgTG9jayBm
        b3IgYXNzaWduaW5nIHRoZSB0YXNrc1xudG8gcmVzb3VyY2VzLiBUaGUgbG9j
        a2luZyBhbGxvd3MgZGVhbGluZyB3aXRoIHByZXZlbnRpbmcgbXVsdGlwbGUg
        Y29sbGlkaW5nIHRhc2tzIHRvIGJlIHJ1biBvbiB0aGVcbnNhbWUgcmVzb3Vy
        Y2UuIEl0IGFsc28gb3B0aW9uYWxseSBwcm92aWRlcyBEeW5mbG93IGluZnJh
        c3RydWN0dXJlIGZvciB1c2luZyBpdCBmb3IgbWFuYWdpbmcgdGhlIHRhc2tz
        LlxuIiwidXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL3RoZWZvcmVtYW4vZm9y
        ZW1hbi10YXNrcyIsInZlcnNpb24iOiIwLjguNSJ9LHsiaWQiOiJmb3JlbWFu
        X2RvY2tlciIsIm5hbWUiOiJmb3JlbWFuX2RvY2tlciIsImF1dGhvciI6IkRh
        bmllbCBMb2JhdG8sIEFtb3MgQmVuYXJpIiwiZGVzY3JpcHRpb24iOiJQcm92
        aXNpb24gYW5kIG1hbmFnZSBEb2NrZXIgY29udGFpbmVycyBhbmQgaW1hZ2Vz
        IGZyb20gRm9yZW1hbi4iLCJ1cmwiOiJodHRwOi8vZ2l0aHViLmNvbS90aGVm
        b3JlbWFuL2ZvcmVtYW4tZG9ja2VyIiwidmVyc2lvbiI6IjMuMC4wIn0seyJp
        ZCI6ImthdGVsbG8iLCJuYW1lIjoia2F0ZWxsbyIsImF1dGhvciI6Ik4vQSIs
        ImRlc2NyaXB0aW9uIjoiQ29udGVudCBhbmQgU3Vic2NyaXB0aW9uIE1hbmFn
        ZW1lbnQgcGx1Z2luIGZvciBGb3JlbWFuIiwidXJsIjoiaHR0cDovL3d3dy5r
        YXRlbGxvLm9yZyIsInZlcnNpb24iOiIzLjMuMCJ9XQp9Cg==
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:36 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"3376afb5876263c336dbae7d1cfb6801"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=4a72ab8f0cfceed5b72c3c3e856f9550; path=/; HttpOnly
      X-Request-Id:
      - a3f13033-8037-4e96-9037-a3a3f550f08e
      X-Runtime:
      - '0.117323'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 3,
          "page": 1,
          "per_page": 999999,
          "search": null,
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"Default_Organization","created_at":"2016-11-19 10:32:57 UTC","updated_at":"2016-11-19 10:32:57 UTC","id":1,"name":"Default Organization","title":"Default Organization","description":null},{"label":"megacorp","created_at":"2016-11-19 10:44:13 UTC","updated_at":"2016-11-19 10:44:13 UTC","id":18,"name":"Mega Corporation","title":"Mega Corporation","description":"The number one mega company in the world!"},{"label":"testcorp","created_at":"2016-11-19 10:33:41 UTC","updated_at":"2016-11-19 10:33:41 UTC","id":8,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:36 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations?per_page=999999&search=name=%22Default%20Organization%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"e5171a5eafa0ced4e79c9de27e0e2b93"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=b669dc7205b59f76f80be261bca5c35d; path=/; HttpOnly
      X-Request-Id:
      - a64e4d51-cb65-4b34-8af5-11d028296a82
      X-Runtime:
      - '0.082057'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Default Organization\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"Default_Organization","created_at":"2016-11-19 10:32:57 UTC","updated_at":"2016-11-19 10:32:57 UTC","id":1,"name":"Default Organization","title":"Default Organization","description":null}]
        }
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:36 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations/1/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"3b9b90bd9510bf6c580c277b981f6a83"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=d50885126fe43a7f0c16a4675c8e2411; path=/; HttpOnly
      X-Request-Id:
      - 280e2119-4901-48d2-ba4d-7c57a9ea6c75
      X-Runtime:
      - '1.181953'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"total":1,"subtotal":1,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":true,"id":1,"name":"Library","label":"Library","description":null,"organization":{"name":"Default
        Organization","label":"Default_Organization","id":1},"created_at":"2016-11-19
        10:33:05 UTC","updated_at":"2016-11-19 10:33:05 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":0,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations?per_page=999999&search=name=%22Mega%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"1ac5fede9097b101dfad9628fe5e3c40"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=ede7035b9a287234f134e705d6e75e97; path=/; HttpOnly
      X-Request-Id:
      - e2fc1c6e-07b1-4b0a-aa40-e66fa81919cc
      X-Runtime:
      - '0.103221'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Mega Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"megacorp","created_at":"2016-11-19 10:44:13 UTC","updated_at":"2016-11-19 10:44:13 UTC","id":18,"name":"Mega Corporation","title":"Mega Corporation","description":"The number one mega company in the world!"}]
        }
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations/18/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"2cf8137d7c8f343f45c143a5e16e2b01"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=daad465d16e5a5444fe4a6d5f770857b; path=/; HttpOnly
      X-Request-Id:
      - 3f864410-97ee-43d6-8459-861c371f8e8e
      X-Runtime:
      - '0.115427'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"total":1,"subtotal":1,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":true,"id":3,"name":"Library","label":"Library","description":null,"organization":{"name":"Mega
        Corporation","label":"megacorp","id":18},"created_at":"2016-11-19 10:44:13
        UTC","updated_at":"2016-11-19 10:44:13 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":0,"packages":0,"puppet_modules":4586,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations?per_page=999999&search=name=%22Test%20Corporation%22
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"d6c455aac70450d31262ac2500194873"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=2abb9017b477e179a53fc9a6fbccbac2; path=/; HttpOnly
      X-Request-Id:
      - f400ea88-8526-48ed-a313-8a37367e56f6
      X-Runtime:
      - '0.093193'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "total": 3,
          "subtotal": 1,
          "page": 1,
          "per_page": 999999,
          "search": "name=\"Test Corporation\"",
          "sort": {
            "by": null,
            "order": null
          },
          "results": [{"label":"testcorp","created_at":"2016-11-19 10:33:41 UTC","updated_at":"2016-11-19 10:33:41 UTC","id":8,"name":"Test Corporation","title":"Test Corporation","description":"Testing today for a better tomorrow"}]
        }
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: get
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/organizations/8/environments?per_page=999999
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"6caf82bd270a98111b37951d2cdb89f6"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=04ecf0cd4e77d1b1dce70861b404f3cc; path=/; HttpOnly
      X-Request-Id:
      - 5145f6c5-3905-4bbc-a787-31d35a87e1ae
      X-Runtime:
      - '0.261620'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"total":5,"subtotal":5,"page":1,"per_page":"999999","error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"id":5,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:21 UTC","updated_at":"2016-11-19 10:49:21 UTC","prior":{"name":"Development","id":4},"successor":{"name":"Production","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":6,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:22 UTC","updated_at":"2016-11-19 10:49:22 UTC","prior":{"name":"Test","id":5},"successor":{"name":"Archive","id":7},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":true,"id":2,"name":"Library","label":"Library","description":null,"organization":{"name":"Test
        Corporation","label":"testcorp","id":8},"created_at":"2016-11-19 10:33:42
        UTC","updated_at":"2016-11-19 10:33:42 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":1,"packages":0,"puppet_modules":0,"errata":{"security":0,"bugfix":0,"enhancement":0,"total":0},"yum_repositories":1,"docker_repositories":0,"ostree_repositories":0,"products":1},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":4,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:21 UTC","updated_at":"2016-11-19 10:49:21 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}},{"library":false,"id":7,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:23 UTC","updated_at":"2016-11-19 10:49:23 UTC","prior":{"name":"Production","id":6},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: put
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/environments/4
    body:
      encoding: UTF-8
      string: '{"description":"Development, automated promotes from Library"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '62'
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"26e0e4881e8be2c3c15b657a0b23032d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=3cc6ec24015cf6e1f2d1c9eb9f880fd3; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 7b966845-44c8-4034-88d4-8519d697f3e2
      X-Runtime:
      - '0.170855'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '  {"library":false,"id":4,"name":"Development","label":"Development","description":"Development,
        automated promotes from Library","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:21 UTC","updated_at":"2016-11-19 10:49:21 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":5},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:38 GMT
- request:
    method: put
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/environments/5
    body:
      encoding: UTF-8
      string: '{"description":"Test, manual promotions from Development"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '58'
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"0d2205890fcafbebda3e77928d2a195d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=91e66a14c7966d4dbeaa9cd4399cddc9; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 2b3a580b-59b2-4287-aee3-7001e55df6d7
      X-Runtime:
      - '1.185115'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '  {"library":false,"id":5,"name":"Test","label":"Test","description":"Test,
        manual promotions from Development","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:21 UTC","updated_at":"2016-11-19 10:49:21 UTC","prior":{"name":"Development","id":4},"successor":{"name":"Production","id":6},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:40 GMT
- request:
    method: put
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/environments/6
    body:
      encoding: UTF-8
      string: '{"description":"Production, manual promotions from Test"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '57'
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"84835c34fcfb2f5a1770b741e0ad4d4c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=fe084aacc3a59eeb21af778f922bb948; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - e4fbe654-0af9-49e3-be80-e230ec4d41a7
      X-Runtime:
      - '0.131151'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '  {"library":false,"id":6,"name":"Production","label":"Production","description":"Production,
        manual promotions from Test","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:22 UTC","updated_at":"2016-11-19 10:49:22 UTC","prior":{"name":"Test","id":5},"successor":{"name":"Archive","id":7},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:40 GMT
- request:
    method: put
    uri: http://admin:changeme@centos7-devel.example.com:3000/katello/api/environments/7
    body:
      encoding: UTF-8
      string: '{"description":"Archive, no longer in Production"}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - rest-client/2.0.0 (linux-gnu x86_64) ruby/2.3.0p0
      Content-Type:
      - application/json
      Accept-Language:
      - en
      Content-Length:
      - '50'
      Host:
      - centos7-devel.example.com:3000
  response:
    status:
      code: 200
      message: OK
    headers:
      Foreman-Version:
      - 1.14.0-develop
      Foreman-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Apipie-Checksum:
      - 974492cde78991fdc7ad9dfcc73ff358
      Etag:
      - W/"76ae82b75cb64b825ceaa367e94259dd"
      Cache-Control:
      - max-age=0, private, must-revalidate
      Set-Cookie:
      - _session_id=b8e3d1150a5ac19ff3db02f2a86102fc; path=/; HttpOnly
      - request_method=PUT; path=/
      X-Request-Id:
      - 8432cda8-dde7-420e-8766-fd44dc67bb7d
      X-Runtime:
      - '0.109810'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '  {"library":false,"id":7,"name":"Archive","label":"Archive","description":"Archive,
        no longer in Production","organization":{"name":"Test Corporation","label":"testcorp","id":8},"created_at":"2016-11-19
        10:49:23 UTC","updated_at":"2016-11-19 10:49:23 UTC","prior":{"name":"Production","id":6},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}

'
    http_version: 
  recorded_at: Tue, 22 Nov 2016 10:46:40 GMT
recorded_with: VCR 3.0.3
